<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>TokenDocument | Foundry Virtual Tabletop - API Documentation - Version 13</title><meta name="description" content="Documentation for Foundry Virtual Tabletop - API Documentation - Version 13"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><link rel="stylesheet" href="../assets/custom.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">Foundry Virtual Tabletop - API Documentation - Version 13</a></div><div class="table-cell" id="tsd-widgets"><a href="foundry.documents.TokenDocument.html#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">Foundry Virtual Tabletop - API Documentation - Version 13</a></li><li><a href="../modules/foundry.html">foundry</a></li><li><a href="../modules/foundry.documents.html">documents</a></li><li><a href="foundry.documents.TokenDocument.html">TokenDocument</a></li></ul><h1>Class TokenDocument</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>The client-side Token document which extends the common BaseToken document model.</p>
<p>The following fields must no be altered from source during data preparation:
<code>x</code>, <code>y</code>, <code>elevation</code>, <code>width</code>, <code>height</code>, <code>shape</code>.</p>
<a id="hook-events" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Hook Events<a href="foundry.documents.TokenDocument.html#hook-events" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><a href="../functions/hookEvents.moveToken.html" class="tsd-kind-function">hookEvents.moveToken</a></li>
<li><a href="../functions/hookEvents.pauseToken.html" class="tsd-kind-function">hookEvents.pauseToken</a></li>
<li><a href="../functions/hookEvents.preMoveToken.html" class="tsd-kind-function">hookEvents.preMoveToken</a></li>
<li><a href="../functions/hookEvents.stopToken.html" class="tsd-kind-function">hookEvents.stopToken</a></li>
</ul>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-mixes"><h4 class="tsd-anchor-link"><a id="mixes" class="tsd-anchor"></a>Mixes<a href="foundry.documents.TokenDocument.html#mixes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>CanvasDocumentMixin</p>
</div><div class="tsd-tag-see"><h4 class="tsd-anchor-link"><a id="see" class="tsd-anchor"></a>See<a href="foundry.documents.TokenDocument.html#see" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><a href="foundry.documents.Scene.html" class="tsd-kind-class">foundry.documents.Scene</a>: The Scene document type which contains Token documents</li>
<li><a href="foundry.applications.sheets.TokenConfig.html" class="tsd-kind-class">foundry.applications.sheets.TokenConfig</a>: The Token configuration application</li>
</ul>
</div></div></section><section class="tsd-panel tsd-hierarchy" data-refl="18720"><h4>Hierarchy (<a href="../hierarchy.html#foundry.documents.TokenDocument">View Summary</a>)</h4><ul class="tsd-hierarchy"><li class="tsd-hierarchy-item"><a href="foundry.documents.BaseToken.html" class="tsd-signature-type tsd-kind-class">BaseToken</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">this</span><span class="tsd-signature-symbol">&gt;</span><ul class="tsd-hierarchy"><li class="tsd-hierarchy-item"><span class="tsd-hierarchy-target">TokenDocument</span></li></ul></li></ul></section><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><h5 class="tsd-index-heading uppercase" role="button" aria-expanded="false" tabIndex="0"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronSmall"></use></svg> Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Constructors</h3><div class="tsd-index-list"><a href="foundry.documents.TokenDocument.html#constructor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="foundry.documents.TokenDocument.html#_movementcontinuation" class="tsd-index-link tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_movement<wbr/>Continuation</span></a>
<a href="foundry.documents.TokenDocument.html#_source" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_source</span></a>
<a href="foundry.documents.TokenDocument.html#actors" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>actors</span></a>
<a href="foundry.documents.TokenDocument.html#parent" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>parent</span></a>
<a href="foundry.documents.TokenDocument.html#regions" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>regions</span></a>
<a href="foundry.documents.TokenDocument.html#_schema" class="tsd-index-link tsd-is-inherited tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_schema</span></a>
<a href="foundry.documents.TokenDocument.html#default_icon" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>DEFAULT_<wbr/>ICON</span></a>
<a href="foundry.documents.TokenDocument.html#localization_prefixes" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>LOCALIZATION_<wbr/>PREFIXES</span></a>
<a href="foundry.documents.TokenDocument.html#metadata" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>metadata</span></a>
<a href="foundry.documents.TokenDocument.html#movement_fields" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>MOVEMENT_<wbr/>FIELDS</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Accessors</h3><div class="tsd-index-list"><a href="foundry.documents.TokenDocument.html#actor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>actor</span></a>
<a href="foundry.documents.TokenDocument.html#baseactor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>base<wbr/>Actor</span></a>
<a href="foundry.documents.TokenDocument.html#combatant" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>combatant</span></a>
<a href="foundry.documents.TokenDocument.html#compendium" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>compendium</span></a>
<a href="foundry.documents.TokenDocument.html#hasdistinctsubjecttexture" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>has<wbr/>Distinct<wbr/>Subject<wbr/>Texture</span></a>
<a href="foundry.documents.TokenDocument.html#id" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>id</span></a>
<a href="foundry.documents.TokenDocument.html#incombat" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>in<wbr/>Combat</span></a>
<a href="foundry.documents.TokenDocument.html#incompendium" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>in<wbr/>Compendium</span></a>
<a href="foundry.documents.TokenDocument.html#invalid" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>invalid</span></a>
<a href="foundry.documents.TokenDocument.html#isembedded" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>is<wbr/>Embedded</span></a>
<a href="foundry.documents.TokenDocument.html#islinked" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>is<wbr/>Linked</span></a>
<a href="foundry.documents.TokenDocument.html#isowner" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>is<wbr/>Owner</span></a>
<a href="foundry.documents.TokenDocument.html#issecret" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>is<wbr/>Secret</span></a>
<a href="foundry.documents.TokenDocument.html#movement" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>movement</span></a>
<a href="foundry.documents.TokenDocument.html#movementhistory" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>movement<wbr/>History</span></a>
<a href="foundry.documents.TokenDocument.html#schema" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>schema</span></a>
<a href="foundry.documents.TokenDocument.html#uuid" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>uuid</span></a>
<a href="foundry.documents.TokenDocument.html#validationfailures" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>validation<wbr/>Failures</span></a>
<a href="foundry.documents.TokenDocument.html#basedocument" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>base<wbr/>Document</span></a>
<a href="foundry.documents.TokenDocument.html#collectionname" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>collection<wbr/>Name</span></a>
<a href="foundry.documents.TokenDocument.html#database" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>database</span></a>
<a href="foundry.documents.TokenDocument.html#documentname" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>document<wbr/>Name</span></a>
<a href="foundry.documents.TokenDocument.html#hastypedata" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>has<wbr/>Type<wbr/>Data</span></a>
<a href="foundry.documents.TokenDocument.html#hierarchy" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>hierarchy</span></a>
<a href="foundry.documents.TokenDocument.html#implementation" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>implementation</span></a>
<a href="foundry.documents.TokenDocument.html#schema-2" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>schema</span></a>
<a href="foundry.documents.TokenDocument.html#types" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>TYPES</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="foundry.documents.TokenDocument.html#_configure" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_configure</span></a>
<a href="foundry.documents.TokenDocument.html#_getparentcollection" class="tsd-index-link tsd-is-inherited tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_get<wbr/>Parent<wbr/>Collection</span></a>
<a href="foundry.documents.TokenDocument.html#_gridoffsettoposition" class="tsd-index-link tsd-is-inherited tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_grid<wbr/>Offset<wbr/>To<wbr/>Position</span></a>
<a href="foundry.documents.TokenDocument.html#_identifyregions" class="tsd-index-link tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_identify<wbr/>Regions</span></a>
<a href="foundry.documents.TokenDocument.html#_initialize" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_initialize</span></a>
<a href="foundry.documents.TokenDocument.html#_initializesource" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_initialize<wbr/>Source</span></a>
<a href="foundry.documents.TokenDocument.html#_oncreate" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Create</span></a>
<a href="foundry.documents.TokenDocument.html#_oncreatedescendantdocuments" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Create<wbr/>Descendant<wbr/>Documents</span></a>
<a href="foundry.documents.TokenDocument.html#_ondelete" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Delete</span></a>
<a href="foundry.documents.TokenDocument.html#_ondeletedescendantdocuments" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Delete<wbr/>Descendant<wbr/>Documents</span></a>
<a href="foundry.documents.TokenDocument.html#_onupdate" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Update</span></a>
<a href="foundry.documents.TokenDocument.html#_onupdatebaseactor" class="tsd-index-link tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Update<wbr/>Base<wbr/>Actor</span></a>
<a href="foundry.documents.TokenDocument.html#_onupdatedescendantdocuments" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Update<wbr/>Descendant<wbr/>Documents</span></a>
<a href="foundry.documents.TokenDocument.html#_positiontogridoffset" class="tsd-index-link tsd-is-inherited tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_position<wbr/>To<wbr/>Grid<wbr/>Offset</span></a>
<a href="foundry.documents.TokenDocument.html#_precreatedescendantdocuments" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_pre<wbr/>Create<wbr/>Descendant<wbr/>Documents</span></a>
<a href="foundry.documents.TokenDocument.html#_predeletedescendantdocuments" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_pre<wbr/>Delete<wbr/>Descendant<wbr/>Documents</span></a>
<a href="foundry.documents.TokenDocument.html#_preparedeltaupdate" class="tsd-index-link tsd-is-inherited tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_prepare<wbr/>Delta<wbr/>Update</span></a>
<a href="foundry.documents.TokenDocument.html#_preupdate" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_pre<wbr/>Update</span></a>
<a href="foundry.documents.TokenDocument.html#_preupdatedescendantdocuments" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_pre<wbr/>Update<wbr/>Descendant<wbr/>Documents</span></a>
<a href="foundry.documents.TokenDocument.html#_stopmovementondisconnect" class="tsd-index-link tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_stop<wbr/>Movement<wbr/>On<wbr/>Disconnect</span></a>
<a href="foundry.documents.TokenDocument.html#canusermodify" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>can<wbr/>User<wbr/>Modify</span></a>
<a href="foundry.documents.TokenDocument.html#clearmovementhistory" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>clear<wbr/>Movement<wbr/>History</span></a>
<a href="foundry.documents.TokenDocument.html#clone" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>clone</span></a>
<a href="foundry.documents.TokenDocument.html#createembeddeddocuments" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Embedded<wbr/>Documents</span></a>
<a href="foundry.documents.TokenDocument.html#delete" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>delete</span></a>
<a href="foundry.documents.TokenDocument.html#deleteembeddeddocuments" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>delete<wbr/>Embedded<wbr/>Documents</span></a>
<a href="foundry.documents.TokenDocument.html#getbarattribute" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Bar<wbr/>Attribute</span></a>
<a href="foundry.documents.TokenDocument.html#getcenterpoint" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Center<wbr/>Point</span></a>
<a href="foundry.documents.TokenDocument.html#getcompletemovementpath" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Complete<wbr/>Movement<wbr/>Path</span></a>
<a href="foundry.documents.TokenDocument.html#getembeddedcollection" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Embedded<wbr/>Collection</span></a>
<a href="foundry.documents.TokenDocument.html#getembeddeddocument" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Embedded<wbr/>Document</span></a>
<a href="foundry.documents.TokenDocument.html#getflag" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Flag</span></a>
<a href="foundry.documents.TokenDocument.html#getgridspacepolygon" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Grid<wbr/>Space<wbr/>Polygon</span></a>
<a href="foundry.documents.TokenDocument.html#getoccupiedgridspaceoffsets" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Occupied<wbr/>Grid<wbr/>Space<wbr/>Offsets</span></a>
<a href="foundry.documents.TokenDocument.html#getsize" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Size</span></a>
<a href="foundry.documents.TokenDocument.html#getsnappedposition" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Snapped<wbr/>Position</span></a>
<a href="foundry.documents.TokenDocument.html#getuserlevel" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>User<wbr/>Level</span></a>
<a href="foundry.documents.TokenDocument.html#hasstatuseffect" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>has<wbr/>Status<wbr/>Effect</span></a>
<a href="foundry.documents.TokenDocument.html#measuremovementpath" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>measure<wbr/>Movement<wbr/>Path</span></a>
<a href="foundry.documents.TokenDocument.html#migratesystemdata" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>migrate<wbr/>System<wbr/>Data</span></a>
<a href="foundry.documents.TokenDocument.html#move" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>move</span></a>
<a href="foundry.documents.TokenDocument.html#pausemovement" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>pause<wbr/>Movement</span></a>
<a href="foundry.documents.TokenDocument.html#preparebasedata" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>prepare<wbr/>Base<wbr/>Data</span></a>
<a href="foundry.documents.TokenDocument.html#preparederiveddata" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>prepare<wbr/>Derived<wbr/>Data</span></a>
<a href="foundry.documents.TokenDocument.html#prepareembeddeddocuments" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>prepare<wbr/>Embedded<wbr/>Documents</span></a>
<a href="foundry.documents.TokenDocument.html#reset" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>reset</span></a>
<a href="foundry.documents.TokenDocument.html#resize" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>resize</span></a>
<a href="foundry.documents.TokenDocument.html#resumemovement" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>resume<wbr/>Movement</span></a>
<a href="foundry.documents.TokenDocument.html#revertrecordedmovement" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>revert<wbr/>Recorded<wbr/>Movement</span></a>
<a href="foundry.documents.TokenDocument.html#segmentizeregionmovementpath" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>segmentize<wbr/>Region<wbr/>Movement<wbr/>Path</span></a>
<a href="foundry.documents.TokenDocument.html#setflag" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>set<wbr/>Flag</span></a>
<a href="foundry.documents.TokenDocument.html#stopmovement" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>stop<wbr/>Movement</span></a>
<a href="foundry.documents.TokenDocument.html#testinsideregion" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>test<wbr/>Inside<wbr/>Region</span></a>
<a href="foundry.documents.TokenDocument.html#testuserpermission" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>test<wbr/>User<wbr/>Permission</span></a>
<a href="foundry.documents.TokenDocument.html#togglecombatant" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>toggle<wbr/>Combatant</span></a>
<a href="foundry.documents.TokenDocument.html#tojson" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>toJSON</span></a>
<a href="foundry.documents.TokenDocument.html#toobject" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>to<wbr/>Object</span></a>
<a href="foundry.documents.TokenDocument.html#traverseembeddeddocuments" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>traverse<wbr/>Embedded<wbr/>Documents</span></a>
<a href="foundry.documents.TokenDocument.html#unsetflag" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>unset<wbr/>Flag</span></a>
<a href="foundry.documents.TokenDocument.html#update" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>update</span></a>
<a href="foundry.documents.TokenDocument.html#updateembeddeddocuments" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>update<wbr/>Embedded<wbr/>Documents</span></a>
<a href="foundry.documents.TokenDocument.html#updatesource" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>update<wbr/>Source</span></a>
<a href="foundry.documents.TokenDocument.html#updatevisionmode" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>update<wbr/>Vision<wbr/>Mode</span></a>
<a href="foundry.documents.TokenDocument.html#validate" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>validate</span></a>
<a href="foundry.documents.TokenDocument.html#_couldregionschange" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_could<wbr/>Regions<wbr/>Change</span></a>
<a href="foundry.documents.TokenDocument.html#_infermovementaction" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_infer<wbr/>Movement<wbr/>Action</span></a>
<a href="foundry.documents.TokenDocument.html#_inferringsubjecttexture" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_infer<wbr/>Ring<wbr/>Subject<wbr/>Texture</span></a>
<a href="foundry.documents.TokenDocument.html#_onmovementpaused" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Movement<wbr/>Paused</span></a>
<a href="foundry.documents.TokenDocument.html#_onmovementrecorded" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Movement<wbr/>Recorded</span></a>
<a href="foundry.documents.TokenDocument.html#_onmovementstopped" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Movement<wbr/>Stopped</span></a>
<a href="foundry.documents.TokenDocument.html#_onrelatedupdate" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Related<wbr/>Update</span></a>
<a href="foundry.documents.TokenDocument.html#_onupdatemovement" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Update<wbr/>Movement</span></a>
<a href="foundry.documents.TokenDocument.html#_precreate" class="tsd-index-link tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_pre<wbr/>Create</span></a>
<a href="foundry.documents.TokenDocument.html#_predelete" class="tsd-index-link tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_pre<wbr/>Delete</span></a>
<a href="foundry.documents.TokenDocument.html#_preparedetectionmodes" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_prepare<wbr/>Detection<wbr/>Modes</span></a>
<a href="foundry.documents.TokenDocument.html#_preupdatemovement" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_pre<wbr/>Update<wbr/>Movement</span></a>
<a href="foundry.documents.TokenDocument.html#_shouldrecordmovementhistory" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_should<wbr/>Record<wbr/>Movement<wbr/>History</span></a>
<a href="foundry.documents.TokenDocument.html#_adddatafieldmigration" class="tsd-index-link tsd-is-inherited tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_add<wbr/>Data<wbr/>Field<wbr/>Migration</span></a>
<a href="foundry.documents.TokenDocument.html#_adddatafieldshim" class="tsd-index-link tsd-is-inherited tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_add<wbr/>Data<wbr/>Field<wbr/>Shim</span></a>
<a href="foundry.documents.TokenDocument.html#_adddatafieldshims" class="tsd-index-link tsd-is-inherited tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_add<wbr/>Data<wbr/>Field<wbr/>Shims</span></a>
<a href="foundry.documents.TokenDocument.html#_addteleportandforcedshims" class="tsd-index-link deprecated tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_add<wbr/>Teleport<wbr/>And<wbr/>Forced<wbr/>Shims</span></a>
<a href="foundry.documents.TokenDocument.html#_clearfieldsrecursively" class="tsd-index-link tsd-is-inherited tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_clear<wbr/>Fields<wbr/>Recursively</span></a>
<a href="foundry.documents.TokenDocument.html#_gethexagonaloffsets" class="tsd-index-link tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_get<wbr/>Hexagonal<wbr/>Offsets</span></a>
<a href="foundry.documents.TokenDocument.html#_initializationorder" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_initialization<wbr/>Order</span></a>
<a href="foundry.documents.TokenDocument.html#_ismovementupdate" class="tsd-index-link tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_is<wbr/>Movement<wbr/>Update</span></a>
<a href="foundry.documents.TokenDocument.html#_logdatafieldmigration" class="tsd-index-link tsd-is-inherited tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_log<wbr/>Data<wbr/>Field<wbr/>Migration</span></a>
<a href="foundry.documents.TokenDocument.html#_oncreateoperation" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Create<wbr/>Operation</span></a>
<a href="foundry.documents.TokenDocument.html#_ondeleteoperation" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Delete<wbr/>Operation</span></a>
<a href="foundry.documents.TokenDocument.html#_onupdateoperation" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Update<wbr/>Operation</span></a>
<a href="foundry.documents.TokenDocument.html#_precreateoperation" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_pre<wbr/>Create<wbr/>Operation</span></a>
<a href="foundry.documents.TokenDocument.html#_preupdateoperation" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_pre<wbr/>Update<wbr/>Operation</span></a>
<a href="foundry.documents.TokenDocument.html#arepositionsequal" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>are<wbr/>Positions<wbr/>Equal</span></a>
<a href="foundry.documents.TokenDocument.html#canusercreate" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>can<wbr/>User<wbr/>Create</span></a>
<a href="foundry.documents.TokenDocument.html#cleandata" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>clean<wbr/>Data</span></a>
<a href="foundry.documents.TokenDocument.html#create" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create</span></a>
<a href="foundry.documents.TokenDocument.html#createcombatants" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Combatants</span></a>
<a href="foundry.documents.TokenDocument.html#createdocuments" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Documents</span></a>
<a href="foundry.documents.TokenDocument.html#defineschema" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>define<wbr/>Schema</span></a>
<a href="foundry.documents.TokenDocument.html#deletecombatants" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>delete<wbr/>Combatants</span></a>
<a href="foundry.documents.TokenDocument.html#deletedocuments" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>delete<wbr/>Documents</span></a>
<a href="foundry.documents.TokenDocument.html#fromjson" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>fromJSON</span></a>
<a href="foundry.documents.TokenDocument.html#fromsource" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>from<wbr/>Source</span></a>
<a href="foundry.documents.TokenDocument.html#get" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get</span></a>
<a href="foundry.documents.TokenDocument.html#getcollectionname" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Collection<wbr/>Name</span></a>
<a href="foundry.documents.TokenDocument.html#gettrackedattributechoices" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Tracked<wbr/>Attribute<wbr/>Choices</span></a>
<a href="foundry.documents.TokenDocument.html#gettrackedattributes" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Tracked<wbr/>Attributes</span></a>
<a href="foundry.documents.TokenDocument.html#migratedata" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>migrate<wbr/>Data</span></a>
<a href="foundry.documents.TokenDocument.html#migratedatasafe" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>migrate<wbr/>Data<wbr/>Safe</span></a>
<a href="foundry.documents.TokenDocument.html#shimdata" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>shim<wbr/>Data</span></a>
<a href="foundry.documents.TokenDocument.html#updatedocuments" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>update<wbr/>Documents</span></a>
<a href="foundry.documents.TokenDocument.html#validatejoint" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>validate<wbr/>Joint</span></a>
<a href="foundry.documents.TokenDocument.html#_getconfiguredtrackedattributes" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_get<wbr/>Configured<wbr/>Tracked<wbr/>Attributes</span></a>
<a href="foundry.documents.TokenDocument.html#_gettrackedattributesfromobject" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_get<wbr/>Tracked<wbr/>Attributes<wbr/>From<wbr/>Object</span></a>
<a href="foundry.documents.TokenDocument.html#_gettrackedattributesfromschema" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_get<wbr/>Tracked<wbr/>Attributes<wbr/>From<wbr/>Schema</span></a>
<a href="foundry.documents.TokenDocument.html#_predeleteoperation" class="tsd-index-link tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_pre<wbr/>Delete<wbr/>Operation</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Constructors"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Constructors</h2></summary><section><section class="tsd-panel tsd-member"><a id="constructor" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>constructor</span><a href="foundry.documents.TokenDocument.html#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="constructortokendocument" class="tsd-anchor"></a><span class="tsd-signature-keyword">new</span> <span class="tsd-kind-constructor-signature">TokenDocument</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.documents.types.TokenData.html" class="tsd-signature-type tsd-kind-interface">TokenData</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="foundry.documents.TokenDocument.html" class="tsd-signature-type tsd-kind-class">TokenDocument</a><a href="foundry.documents.TokenDocument.html#constructortokendocument" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.documents.types.TokenData.html" class="tsd-signature-type tsd-kind-interface">TokenData</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Initial data used to construct the data object. The provided object will be
owned by the constructed model instance and may be mutated.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Context and data validation options which affects initial model construction.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="foundry.documents.TokenDocument.html" class="tsd-signature-type tsd-kind-class">TokenDocument</a></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#constructor">constructor</a></p></aside></div></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Properties"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Properties</h2></summary><section><section class="tsd-panel tsd-member tsd-is-internal"><a id="_movementcontinuation" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Internal</code><span>_movement<wbr/>Continuation</span><a href="foundry.documents.TokenDocument.html#_movementcontinuation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">_movementContinuation</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.documents.types.TokenMovementContinuationData.html" class="tsd-signature-type tsd-kind-interface">TokenMovementContinuationData</a><span class="tsd-signature-symbol"> = ...</span></div><div class="tsd-comment tsd-typography"><p>The movement continuation state of this Token document.</p>
</div><div class="tsd-comment tsd-typography"></div></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="_source" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_source</span><a href="foundry.documents.TokenDocument.html#_source" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">_source</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.documents.types.TokenData.html" class="tsd-signature-type tsd-kind-interface">TokenData</a></div><div class="tsd-comment tsd-typography"><p>The source data object for this DataModel instance.
Once constructed, the source object is sealed such that no keys may be added nor removed.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_source">_source</a></p></aside></section><section class="tsd-panel tsd-member"><a id="actors" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>actors</span><a href="foundry.documents.TokenDocument.html#actors" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">actors</span><span class="tsd-signature-symbol">:</span> <a href="foundry.utils.Collection.html" class="tsd-signature-type tsd-kind-class">Collection</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <a href="../modules/foundry.documents.html" class="tsd-signature-type tsd-kind-namespace">documents</a><span class="tsd-signature-symbol">.</span><a href="foundry.documents.Actor.html" class="tsd-signature-type tsd-kind-class">Actor</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = ...</span></div><div class="tsd-comment tsd-typography"><p>A singleton collection which holds a reference to the synthetic token actor by its base actor's ID.</p>
</div><div class="tsd-comment tsd-typography"></div></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="parent" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>parent</span><a href="foundry.documents.TokenDocument.html#parent" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">parent</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="foundry.abstract.DataModel.html" class="tsd-signature-type tsd-kind-class">DataModel</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DataModelConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DataModelConstructionContext</a><span class="tsd-signature-symbol">&gt;</span></div><div class="tsd-comment tsd-typography"><p>An immutable reverse-reference to a parent DataModel to which this model belongs.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#parent">parent</a></p></aside></section><section class="tsd-panel tsd-member"><a id="regions" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>regions</span><a href="foundry.documents.TokenDocument.html#regions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">regions</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Set</span><span class="tsd-signature-symbol">&lt;</span><a href="foundry.documents.RegionDocument.html" class="tsd-signature-type tsd-kind-class">RegionDocument</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = ...</span></div><div class="tsd-comment tsd-typography"><p>The Regions this Token is currently in.</p>
</div><div class="tsd-comment tsd-typography"></div></section><section class="tsd-panel tsd-member tsd-is-inherited tsd-is-internal"><a id="_schema" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code> <code class="tsd-tag">Internal</code><span>_schema</span><a href="foundry.documents.TokenDocument.html#_schema" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">_schema</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a></div><div class="tsd-comment tsd-typography"><p>The defined and cached Data Schema for all instances of this DataModel.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_schema">_schema</a></p></aside></section><section class="tsd-panel tsd-member"><a id="default_icon" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>DEFAULT_<wbr/>ICON</span><a href="foundry.documents.TokenDocument.html#default_icon" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">DEFAULT_ICON</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> = CONST.DEFAULT_TOKEN</span></div><div class="tsd-comment tsd-typography"><p>The default icon used for newly created Token documents</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#default_icon">DEFAULT_ICON</a></p></aside></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="localization_prefixes" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>LOCALIZATION_<wbr/>PREFIXES</span><a href="foundry.documents.TokenDocument.html#localization_prefixes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">LOCALIZATION_PREFIXES</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> = ...</span></div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#localization_prefixes">LOCALIZATION_PREFIXES</a></p></aside></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="metadata" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>metadata</span><a href="foundry.documents.TokenDocument.html#metadata" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">metadata</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol"> = ...</span></div><div class="tsd-comment tsd-typography"><p>Default metadata which applies to each instance of this Document type.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#metadata">metadata</a></p></aside></section><section class="tsd-panel tsd-member"><a id="movement_fields" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code> <code class="tsd-tag">Readonly</code><span>MOVEMENT_<wbr/>FIELDS</span><a href="foundry.documents.TokenDocument.html#movement_fields" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">MOVEMENT_FIELDS</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-keyword">readonly</span> <span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">&quot;x&quot;</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;y&quot;</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;elevation&quot;</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;width&quot;</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;height&quot;</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;shape&quot;</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol"> = ...</span></div><div class="tsd-comment tsd-typography"><p>The fields of the data model for which changes count as a movement action.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#movement_fields">MOVEMENT_FIELDS</a></p></aside></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Accessors"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Accessors</h2></summary><section><section class="tsd-panel tsd-member"><a id="actor" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>actor</span><a href="foundry.documents.TokenDocument.html#actor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature" id="actor-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">actor</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="../modules/foundry.documents.html" class="tsd-signature-type tsd-kind-namespace">documents</a><span class="tsd-signature-symbol">.</span><a href="foundry.documents.Actor.html" class="tsd-signature-type tsd-kind-class">Actor</a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>A reference to the Actor this Token modifies.
If actorLink is true, then the document is the primary Actor document.
Otherwise, the Actor document is a synthetic (ephemeral) document constructed using the Token's ActorDelta.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="../modules/foundry.documents.html" class="tsd-signature-type tsd-kind-namespace">documents</a><span class="tsd-signature-symbol">.</span><a href="foundry.documents.Actor.html" class="tsd-signature-type tsd-kind-class">Actor</a></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="baseactor" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>base<wbr/>Actor</span><a href="foundry.documents.TokenDocument.html#baseactor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature" id="baseactor-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">baseActor</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="../modules/foundry.documents.html" class="tsd-signature-type tsd-kind-namespace">documents</a><span class="tsd-signature-symbol">.</span><a href="foundry.documents.Actor.html" class="tsd-signature-type tsd-kind-class">Actor</a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>A reference to the base, World-level Actor this token represents.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="../modules/foundry.documents.html" class="tsd-signature-type tsd-kind-namespace">documents</a><span class="tsd-signature-symbol">.</span><a href="foundry.documents.Actor.html" class="tsd-signature-type tsd-kind-class">Actor</a></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="combatant" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>combatant</span><a href="foundry.documents.TokenDocument.html#combatant" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature" id="combatant-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">combatant</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="../modules/foundry.documents.html" class="tsd-signature-type tsd-kind-namespace">documents</a><span class="tsd-signature-symbol">.</span><a href="foundry.documents.Combatant.html" class="tsd-signature-type tsd-kind-class">Combatant</a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Return a reference to a Combatant that represents this Token, if one is present in the current encounter.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="../modules/foundry.documents.html" class="tsd-signature-type tsd-kind-namespace">documents</a><span class="tsd-signature-symbol">.</span><a href="foundry.documents.Combatant.html" class="tsd-signature-type tsd-kind-class">Combatant</a></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="compendium" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Abstract</code><span>compendium</span><a href="foundry.documents.TokenDocument.html#compendium" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature" id="compendium-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">compendium</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>A reference to the Compendium Collection containing this Document, if any, and otherwise null.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">any</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from CanvasDocumentMixin(BaseToken).compendium</p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="hasdistinctsubjecttexture" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>has<wbr/>Distinct<wbr/>Subject<wbr/>Texture</span><a href="foundry.documents.TokenDocument.html#hasdistinctsubjecttexture" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature" id="hasdistinctsubjecttexture-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">hasDistinctSubjectTexture</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Check if the document has a distinct subject texture (inferred or explicit).</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="id" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>id</span><a href="foundry.documents.TokenDocument.html#id" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature" id="id-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">id</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">string</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>The canonical identifier for this Document.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">string</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from CanvasDocumentMixin(BaseToken).id</p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="incombat" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>in<wbr/>Combat</span><a href="foundry.documents.TokenDocument.html#incombat" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature" id="incombat-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">inCombat</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>An indicator for whether this Token is currently involved in the active combat encounter.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="incompendium" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>in<wbr/>Compendium</span><a href="foundry.documents.TokenDocument.html#incompendium" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature" id="incompendium-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">inCompendium</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Is this document in a compendium?</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from CanvasDocumentMixin(BaseToken).inCompendium</p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="invalid" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>invalid</span><a href="foundry.documents.TokenDocument.html#invalid" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature" id="invalid-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">invalid</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Is the current state of this DataModel invalid?
The model is invalid if there is any unresolved failure.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from CanvasDocumentMixin(BaseToken).invalid</p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="isembedded" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>is<wbr/>Embedded</span><a href="foundry.documents.TokenDocument.html#isembedded" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature" id="isembedded-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">isEmbedded</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Is this document embedded within a parent document?</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from CanvasDocumentMixin(BaseToken).isEmbedded</p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="islinked" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>is<wbr/>Linked</span><a href="foundry.documents.TokenDocument.html#islinked" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature" id="islinked-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">isLinked</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>A convenient reference for whether this TokenDocument is linked to the Actor it represents, or is a synthetic copy</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="isowner" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>is<wbr/>Owner</span><a href="foundry.documents.TokenDocument.html#isowner" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature" id="isowner-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">isOwner</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>An indicator for whether the current User has full control over this Token document.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="issecret" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>is<wbr/>Secret</span><a href="foundry.documents.TokenDocument.html#issecret" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature" id="issecret-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">isSecret</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Does this TokenDocument have the SECRET disposition and is the current user lacking the necessary permissions
that would reveal this secret?</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="movement" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>movement</span><a href="foundry.documents.TokenDocument.html#movement" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature" id="movement-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">movement</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="../types/foundry.types.DeepReadonly.html" class="tsd-signature-type tsd-kind-type-alias">DeepReadonly</a><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.documents.types.TokenMovementData.html" class="tsd-signature-type tsd-kind-interface">TokenMovementData</a><span class="tsd-signature-symbol">&gt;</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>The current movement data of this Token document.</p>
</div><h4 class="tsd-returns-title">Returns <a href="../types/foundry.types.DeepReadonly.html" class="tsd-signature-type tsd-kind-type-alias">DeepReadonly</a><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.documents.types.TokenMovementData.html" class="tsd-signature-type tsd-kind-interface">TokenMovementData</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="movementhistory" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>movement<wbr/>History</span><a href="foundry.documents.TokenDocument.html#movementhistory" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature" id="movementhistory-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">movementHistory</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.documents.types.TokenMeasuredMovementWaypoint.html" class="tsd-signature-type tsd-kind-interface">TokenMeasuredMovementWaypoint</a><span class="tsd-signature-symbol">[]</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>The movement history.</p>
</div><h4 class="tsd-returns-title">Returns <a href="../interfaces/foundry.documents.types.TokenMeasuredMovementWaypoint.html" class="tsd-signature-type tsd-kind-interface">TokenMeasuredMovementWaypoint</a><span class="tsd-signature-symbol">[]</span></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="schema" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>schema</span><a href="foundry.documents.TokenDocument.html#schema" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature" id="schema-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">schema</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Define the data schema for this document instance.</p>
</div><h4 class="tsd-returns-title">Returns <a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from CanvasDocumentMixin(BaseToken).schema</p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="uuid" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>uuid</span><a href="foundry.documents.TokenDocument.html#uuid" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature" id="uuid-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">uuid</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>A Universally Unique Identifier (uuid) for this Document instance.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from CanvasDocumentMixin(BaseToken).uuid</p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="validationfailures" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>validation<wbr/>Failures</span><a href="foundry.documents.TokenDocument.html#validationfailures" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature" id="validationfailures-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">validationFailures</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{</span><br/>    <span class="tsd-kind-property">fields</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">null</span><br/>    <span class="tsd-signature-symbol">|</span> <a href="foundry.data.validation.DataModelValidationFailure.html" class="tsd-signature-type tsd-kind-class">DataModelValidationFailure</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">joint</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="foundry.data.validation.DataModelValidationFailure.html" class="tsd-signature-type tsd-kind-class">DataModelValidationFailure</a><span class="tsd-signature-symbol">;</span><br/><span class="tsd-signature-symbol">}</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>An array of validation failure instances which may have occurred when this instance was last validated.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">{</span><br/>    <span class="tsd-kind-property">fields</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="foundry.data.validation.DataModelValidationFailure.html" class="tsd-signature-type tsd-kind-class">DataModelValidationFailure</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">joint</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="foundry.data.validation.DataModelValidationFailure.html" class="tsd-signature-type tsd-kind-class">DataModelValidationFailure</a><span class="tsd-signature-symbol">;</span><br/><span class="tsd-signature-symbol">}</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from CanvasDocumentMixin(BaseToken).validationFailures</p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="basedocument" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>base<wbr/>Document</span><a href="foundry.documents.TokenDocument.html#basedocument" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature" id="basedocument-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">baseDocument</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-keyword">typeof</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>The base document definition that this document class extends from.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-keyword">typeof</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from CanvasDocumentMixin(BaseToken).baseDocument</p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="collectionname" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>collection<wbr/>Name</span><a href="foundry.documents.TokenDocument.html#collectionname" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature" id="collectionname-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">collectionName</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>The named collection to which this Document belongs.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from CanvasDocumentMixin(BaseToken).collectionName</p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="database" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>database</span><a href="foundry.documents.TokenDocument.html#database" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature" id="database-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">database</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="../modules/foundry.abstract.html" class="tsd-signature-type tsd-kind-namespace">abstract</a><span class="tsd-signature-symbol">.</span><a href="foundry.abstract.DatabaseBackend.html" class="tsd-signature-type tsd-kind-class">DatabaseBackend</a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>The database backend used to execute operations and handle results.</p>
</div><h4 class="tsd-returns-title">Returns <a href="../modules/foundry.abstract.html" class="tsd-signature-type tsd-kind-namespace">abstract</a><span class="tsd-signature-symbol">.</span><a href="foundry.abstract.DatabaseBackend.html" class="tsd-signature-type tsd-kind-class">DatabaseBackend</a></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from CanvasDocumentMixin(BaseToken).database</p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="documentname" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>document<wbr/>Name</span><a href="foundry.documents.TokenDocument.html#documentname" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature" id="documentname-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">documentName</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>The canonical name of this Document type, for example &quot;Actor&quot;.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from CanvasDocumentMixin(BaseToken).documentName</p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="hastypedata" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>has<wbr/>Type<wbr/>Data</span><a href="foundry.documents.TokenDocument.html#hastypedata" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature" id="hastypedata-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">hasTypeData</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Does this Document support additional subtypes?</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from CanvasDocumentMixin(BaseToken).hasTypeData</p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="hierarchy" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>hierarchy</span><a href="foundry.documents.TokenDocument.html#hierarchy" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature" id="hierarchy-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">hierarchy</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Readonly</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>The Embedded Document hierarchy for this Document.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Readonly</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from CanvasDocumentMixin(BaseToken).hierarchy</p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="implementation" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>implementation</span><a href="foundry.documents.TokenDocument.html#implementation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature" id="implementation-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">implementation</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-keyword">typeof</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Return a reference to the configured subclass of this base Document type.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-keyword">typeof</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from CanvasDocumentMixin(BaseToken).implementation</p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="schema-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>schema</span><a href="foundry.documents.TokenDocument.html#schema-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature" id="schema-3"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">schema</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Ensure that all Document classes share the same schema of their base declaration.</p>
</div><h4 class="tsd-returns-title">Returns <a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from CanvasDocumentMixin(BaseToken).schema</p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="types" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>TYPES</span><a href="foundry.documents.TokenDocument.html#types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature" id="types-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">TYPES</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>The allowed types which may exist for this Document class.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from CanvasDocumentMixin(BaseToken).TYPES</p></aside></div></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Methods"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Methods</h2></summary><section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="_configure" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_configure</span><a href="foundry.documents.TokenDocument.html#_configure" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="_configure-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_configure</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">__namedParameters</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">pack</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">null</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">parentCollection</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_configure-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">__namedParameters</span>: <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">pack</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">null</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">parentCollection</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol"> = {}</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_configure">_configure</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited tsd-is-internal"><a id="_getparentcollection" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_get<wbr/>Parent<wbr/>Collection</span><a href="foundry.documents.TokenDocument.html#_getparentcollection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited tsd-is-internal"><li class="tsd-is-inherited tsd-is-internal"><div class="tsd-signature tsd-anchor-link"><a id="_getparentcollection-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_getParentCollection</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">parentCollection</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">string</span><a href="foundry.documents.TokenDocument.html#_getparentcollection-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Internal</code><div class="tsd-comment tsd-typography"><p>Identify the collection in a parent Document that this Document belongs to, if any.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">parentCollection</span>: <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>An explicitly provided parent collection name.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">string</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_getparentcollection">_getParentCollection</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited tsd-is-internal"><a id="_gridoffsettoposition" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_grid<wbr/>Offset<wbr/>To<wbr/>Position</span><a href="foundry.documents.TokenDocument.html#_gridoffsettoposition" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited tsd-is-internal"><li class="tsd-is-inherited tsd-is-internal"><div class="tsd-signature tsd-anchor-link"><a id="_gridoffsettoposition-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_gridOffsetToPosition</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">offset</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.grid.types.GridOffset3D.html" class="tsd-signature-type tsd-kind-interface">GridOffset3D</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/foundry.documents.types.TokenDimensions.html" class="tsd-signature-type tsd-kind-type-alias">TokenDimensions</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.types.ElevatedPoint.html" class="tsd-signature-type tsd-kind-interface">ElevatedPoint</a><a href="foundry.documents.TokenDocument.html#_gridoffsettoposition-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Internal</code><div class="tsd-comment tsd-typography"><p>Get the position of the Token from the top-left grid offset.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">offset</span>: <a href="../interfaces/foundry.grid.types.GridOffset3D.html" class="tsd-signature-type tsd-kind-interface">GridOffset3D</a></span><div class="tsd-comment tsd-typography"><p>The top-left grid offset</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/foundry.documents.types.TokenDimensions.html" class="tsd-signature-type tsd-kind-type-alias">TokenDimensions</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>The dimensions that override the current dimensions</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../interfaces/foundry.types.ElevatedPoint.html" class="tsd-signature-type tsd-kind-interface">ElevatedPoint</a></h4><p>The snapped position</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_gridoffsettoposition">_gridOffsetToPosition</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-internal"><a id="_identifyregions" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_identify<wbr/>Regions</span><a href="foundry.documents.TokenDocument.html#_identifyregions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-internal"><li class="tsd-is-internal"><div class="tsd-signature tsd-anchor-link"><a id="_identifyregions-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_identifyRegions</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">changes</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><a href="foundry.documents.TokenDocument.html#_identifyregions-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Internal</code><div class="tsd-comment tsd-typography"><p>Identify the Regions the Token currently is or is going to be in after the changes are applied.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">changes</span>: <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>The changes that will be applied to this Token</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></h4><p>The Region IDs this Token is in after the changes are applied (sorted)</p>
<div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="_initialize" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_initialize</span><a href="foundry.documents.TokenDocument.html#_initialize" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="_initialize-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_initialize</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_initialize-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Initialize the instance by copying data from the source object to instance attributes.
This mirrors the workflow of SchemaField#initialize but with some added functionality.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Options provided to the model constructor</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Overrides <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_initialize">_initialize</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="_initializesource" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_initialize<wbr/>Source</span><a href="foundry.documents.TokenDocument.html#_initializesource" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="_initializesource-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_initializeSource</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><a href="foundry.documents.TokenDocument.html#_initializesource-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Initialize the source data for a new DataModel instance.
One-time migrations and initial cleaning operations are applied to the source data.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>The candidate source data from which the model will be constructed</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>Options provided to the model constructor</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">object</span></h4><p>Migrated and cleaned source data which will be stored to the model instance,
which is the same object as the <code>data</code> argument</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Overrides <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_initializesource">_initializeSource</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="_oncreate" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_on<wbr/>Create</span><a href="foundry.documents.TokenDocument.html#_oncreate" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="_oncreate-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_onCreate</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">userId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_oncreate-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Post-process a creation operation for a single Document instance. Post-operation events occur for all connected
clients.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>The initial data object provided to the document creation request</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>Additional options which modify the creation request</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">userId</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>The id of the User requesting the document update</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Overrides <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_oncreate">_onCreate</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="_oncreatedescendantdocuments" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_on<wbr/>Create<wbr/>Descendant<wbr/>Documents</span><a href="foundry.documents.TokenDocument.html#_oncreatedescendantdocuments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="_oncreatedescendantdocuments-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_onCreateDescendantDocuments</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">parent</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">collection</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">documents</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">userId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_oncreatedescendantdocuments-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">parent</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">collection</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">documents</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">userId</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-inheritDoc"><h4 class="tsd-anchor-link"><a id="inherit-doc" class="tsd-anchor"></a>Inherit Doc<a href="foundry.documents.TokenDocument.html#inherit-doc" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4></div></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="_ondelete" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_on<wbr/>Delete</span><a href="foundry.documents.TokenDocument.html#_ondelete" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="_ondelete-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_onDelete</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">userId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_ondelete-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Post-process a deletion operation for a single Document instance. Post-operation events occur for all connected
clients.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>Additional options which modify the deletion request</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">userId</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>The id of the User requesting the document update</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Overrides <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_ondelete">_onDelete</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="_ondeletedescendantdocuments" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_on<wbr/>Delete<wbr/>Descendant<wbr/>Documents</span><a href="foundry.documents.TokenDocument.html#_ondeletedescendantdocuments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="_ondeletedescendantdocuments-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_onDeleteDescendantDocuments</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">parent</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">collection</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">documents</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">ids</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">userId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_ondeletedescendantdocuments-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">parent</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">collection</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">documents</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">ids</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">userId</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-inheritDoc"><h4 class="tsd-anchor-link"><a id="inherit-doc-1" class="tsd-anchor"></a>Inherit Doc<a href="foundry.documents.TokenDocument.html#inherit-doc-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4></div></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="_onupdate" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_on<wbr/>Update</span><a href="foundry.documents.TokenDocument.html#_onupdate" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="_onupdate-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_onUpdate</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">changed</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">userId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_onupdate-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Post-process an update operation for a single Document instance. Post-operation events occur for all connected
clients.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">changed</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>The differential data that was changed relative to the documents prior values</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>Additional options which modify the update request</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">userId</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>The id of the User requesting the document update</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Overrides <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_onupdate">_onUpdate</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-internal"><a id="_onupdatebaseactor" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_on<wbr/>Update<wbr/>Base<wbr/>Actor</span><a href="foundry.documents.TokenDocument.html#_onupdatebaseactor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-internal"><li class="tsd-is-internal"><div class="tsd-signature tsd-anchor-link"><a id="_onupdatebaseactor-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_onUpdateBaseActor</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">update</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseUpdateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseUpdateOperation</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_onupdatebaseactor-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Internal</code><div class="tsd-comment tsd-typography"><p>When the base Actor for a TokenDocument changes, we may need to update its Actor instance</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">update</span>: <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>The update delta</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseUpdateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseUpdateOperation</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>The database operation that was performed</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="_onupdatedescendantdocuments" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_on<wbr/>Update<wbr/>Descendant<wbr/>Documents</span><a href="foundry.documents.TokenDocument.html#_onupdatedescendantdocuments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="_onupdatedescendantdocuments-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_onUpdateDescendantDocuments</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">parent</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">collection</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">documents</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">changes</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">userId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_onupdatedescendantdocuments-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">parent</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">collection</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">documents</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">changes</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">userId</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-inheritDoc"><h4 class="tsd-anchor-link"><a id="inherit-doc-2" class="tsd-anchor"></a>Inherit Doc<a href="foundry.documents.TokenDocument.html#inherit-doc-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4></div></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited tsd-is-internal"><a id="_positiontogridoffset" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_position<wbr/>To<wbr/>Grid<wbr/>Offset</span><a href="foundry.documents.TokenDocument.html#_positiontogridoffset" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited tsd-is-internal"><li class="tsd-is-inherited tsd-is-internal"><div class="tsd-signature tsd-anchor-link"><a id="_positiontogridoffset-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_positionToGridOffset</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.types.ElevatedPoint.html" class="tsd-signature-type tsd-kind-interface">ElevatedPoint</a> <span class="tsd-signature-symbol">&amp;</span> <a href="../types/foundry.documents.types.TokenDimensions.html" class="tsd-signature-type tsd-kind-type-alias">TokenDimensions</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.grid.types.GridOffset3D.html" class="tsd-signature-type tsd-kind-interface">GridOffset3D</a><a href="foundry.documents.TokenDocument.html#_positiontogridoffset-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Internal</code><div class="tsd-comment tsd-typography"><p>Get the top-left grid offset of the Token.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.types.ElevatedPoint.html" class="tsd-signature-type tsd-kind-interface">ElevatedPoint</a> <span class="tsd-signature-symbol">&amp;</span> <a href="../types/foundry.documents.types.TokenDimensions.html" class="tsd-signature-type tsd-kind-type-alias">TokenDimensions</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>The position and dimensions</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../interfaces/foundry.grid.types.GridOffset3D.html" class="tsd-signature-type tsd-kind-interface">GridOffset3D</a></h4><p>The top-left grid offset</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_positiontogridoffset">_positionToGridOffset</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="_precreatedescendantdocuments" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_pre<wbr/>Create<wbr/>Descendant<wbr/>Documents</span><a href="foundry.documents.TokenDocument.html#_precreatedescendantdocuments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="_precreatedescendantdocuments-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_preCreateDescendantDocuments</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">parent</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">collection</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">userId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_precreatedescendantdocuments-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">parent</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">collection</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">userId</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-inheritDoc"><h4 class="tsd-anchor-link"><a id="inherit-doc-3" class="tsd-anchor"></a>Inherit Doc<a href="foundry.documents.TokenDocument.html#inherit-doc-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4></div></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="_predeletedescendantdocuments" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_pre<wbr/>Delete<wbr/>Descendant<wbr/>Documents</span><a href="foundry.documents.TokenDocument.html#_predeletedescendantdocuments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="_predeletedescendantdocuments-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_preDeleteDescendantDocuments</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">parent</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">collection</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">ids</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">userId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_predeletedescendantdocuments-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">parent</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">collection</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">ids</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">userId</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-inheritDoc"><h4 class="tsd-anchor-link"><a id="inherit-doc-4" class="tsd-anchor"></a>Inherit Doc<a href="foundry.documents.TokenDocument.html#inherit-doc-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4></div></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited tsd-is-internal"><a id="_preparedeltaupdate" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_prepare<wbr/>Delta<wbr/>Update</span><a href="foundry.documents.TokenDocument.html#_preparedeltaupdate" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited tsd-is-internal"><li class="tsd-is-inherited tsd-is-internal"><div class="tsd-signature tsd-anchor-link"><a id="_preparedeltaupdate-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_prepareDeltaUpdate</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">changes</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <a href="../interfaces/foundry.abstract.types.DataModelUpdateOptions.html" class="tsd-signature-type tsd-kind-interface">DataModelUpdateOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_preparedeltaupdate-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Internal</code><div class="tsd-comment tsd-typography"><p>Prepare changes to a descendent delta collection.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">changes</span>: <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Candidate source changes.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/foundry.abstract.types.DataModelUpdateOptions.html" class="tsd-signature-type tsd-kind-interface">DataModelUpdateOptions</a><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Options which determine how the new data is merged.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_preparedeltaupdate">_prepareDeltaUpdate</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="_preupdate" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_pre<wbr/>Update</span><a href="foundry.documents.TokenDocument.html#_preupdate" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="_preupdate-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_preUpdate</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">changed</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">user</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">false</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#_preupdate-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Pre-process an update operation for a single Document instance. Pre-operation events only occur for the client
which requested the operation.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">changed</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>The candidate changes to the Document</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>Additional options which modify the update request</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">user</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>The User requesting the document update</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">false</span><span class="tsd-signature-symbol">&gt;</span></h4><p>A return value of false indicates the update operation should be cancelled.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Overrides <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_preupdate">_preUpdate</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="_preupdatedescendantdocuments" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_pre<wbr/>Update<wbr/>Descendant<wbr/>Documents</span><a href="foundry.documents.TokenDocument.html#_preupdatedescendantdocuments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="_preupdatedescendantdocuments-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_preUpdateDescendantDocuments</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">parent</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">collection</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">changes</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">userId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_preupdatedescendantdocuments-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">parent</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">collection</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">changes</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">userId</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-inheritDoc"><h4 class="tsd-anchor-link"><a id="inherit-doc-5" class="tsd-anchor"></a>Inherit Doc<a href="foundry.documents.TokenDocument.html#inherit-doc-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4></div></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-internal"><a id="_stopmovementondisconnect" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_stop<wbr/>Movement<wbr/>On<wbr/>Disconnect</span><a href="foundry.documents.TokenDocument.html#_stopmovementondisconnect" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-internal"><li class="tsd-is-internal"><div class="tsd-signature tsd-anchor-link"><a id="_stopmovementondisconnect-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_stopMovementOnDisconnect</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_stopmovementondisconnect-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Internal</code><div class="tsd-comment tsd-typography"><p>This function is called on Token documents that are still being moved by a User that just disconnected.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="canusermodify" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>can<wbr/>User<wbr/>Modify</span><a href="foundry.documents.TokenDocument.html#canusermodify" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="canusermodify-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">canUserModify</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">user</span><span class="tsd-signature-symbol">:</span> <a href="foundry.documents.BaseUser.html" class="tsd-signature-type tsd-kind-class">BaseUser</a><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">action</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="foundry.documents.TokenDocument.html#canusermodify-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Test whether a given User has permission to perform some action on this Document</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">user</span>: <a href="foundry.documents.BaseUser.html" class="tsd-signature-type tsd-kind-class">BaseUser</a></span><div class="tsd-comment tsd-typography"><p>The User attempting modification</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">action</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The attempted action</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Data involved in the attempted action</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>Does the User have permission?</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#canusermodify">canUserModify</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="clearmovementhistory" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>clear<wbr/>Movement<wbr/>History</span><a href="foundry.documents.TokenDocument.html#clearmovementhistory" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="clearmovementhistory-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">clearMovementHistory</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#clearmovementhistory-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Clear the movement history of this Token.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="clone" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>clone</span><a href="foundry.documents.TokenDocument.html#clone" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="clone-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">clone</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span><br/>    <span class="tsd-signature-symbol">|</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><br/>    <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#clone-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Clone a document, creating a new document by combining current data with provided overrides.
The cloned document is ephemeral and not yet saved to the database.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Additional data which overrides current document data at the time of creation</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">context</span>: <span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Additional context options passed to the create method</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <br/>    <span class="tsd-signature-symbol">|</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><br/>    <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>The cloned Document instance</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#clone">clone</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="createembeddeddocuments" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>create<wbr/>Embedded<wbr/>Documents</span><a href="foundry.documents.TokenDocument.html#createembeddeddocuments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="createembeddeddocuments-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">createEmbeddedDocuments</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">embeddedName</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">operation</span><span class="tsd-signature-symbol">?:</span> <a href="../interfaces/foundry.abstract.types.DatabaseCreateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseCreateOperation</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#createembeddeddocuments-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Create multiple embedded Document instances within this parent Document using provided input data.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">embeddedName</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The name of the embedded Document type</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> = []</span></span><div class="tsd-comment tsd-typography"><p>An array of data objects used to create multiple documents</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">operation</span>: <a href="../interfaces/foundry.abstract.types.DatabaseCreateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseCreateOperation</a><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Parameters of the database creation workflow</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>An array of created Document instances</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-see"><h4 class="tsd-anchor-link"><a id="see-1" class="tsd-anchor"></a>See<a href="foundry.documents.TokenDocument.html#see-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><a href="foundry.abstract.Document.html#createdocuments" class="tsd-kind-method">Document.createDocuments</a></p>
</div></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#createembeddeddocuments">createEmbeddedDocuments</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="delete" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>delete</span><a href="foundry.documents.TokenDocument.html#delete" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="delete-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">delete</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">operation</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseDeleteOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseDeleteOperation</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;ids&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#delete-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Delete this Document, removing it from the database.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">operation</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseDeleteOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseDeleteOperation</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;ids&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Parameters of the deletion operation</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>The deleted Document instance, or undefined if not deleted</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-see"><h4 class="tsd-anchor-link"><a id="see-2" class="tsd-anchor"></a>See<a href="foundry.documents.TokenDocument.html#see-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><a href="foundry.abstract.Document.html#deletedocuments" class="tsd-kind-method">Document.deleteDocuments</a></p>
</div></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#delete">delete</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="deleteembeddeddocuments" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>delete<wbr/>Embedded<wbr/>Documents</span><a href="foundry.documents.TokenDocument.html#deleteembeddeddocuments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="deleteembeddeddocuments-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">deleteEmbeddedDocuments</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">embeddedName</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">ids</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">operation</span><span class="tsd-signature-symbol">?:</span> <a href="../interfaces/foundry.abstract.types.DatabaseDeleteOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseDeleteOperation</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#deleteembeddeddocuments-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Delete multiple embedded Document instances within a parent Document using provided string ids.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">embeddedName</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The name of the embedded Document type</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">ids</span>: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>An array of string ids for each Document to be deleted</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">operation</span>: <a href="../interfaces/foundry.abstract.types.DatabaseDeleteOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseDeleteOperation</a><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Parameters of the database deletion workflow</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>An array of deleted Document instances</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-see"><h4 class="tsd-anchor-link"><a id="see-3" class="tsd-anchor"></a>See<a href="foundry.documents.TokenDocument.html#see-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><a href="foundry.abstract.Document.html#deletedocuments" class="tsd-kind-method">Document.deleteDocuments</a></p>
</div></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#deleteembeddeddocuments">deleteEmbeddedDocuments</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="getbarattribute" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Bar<wbr/>Attribute</span><a href="foundry.documents.TokenDocument.html#getbarattribute" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="getbarattribute-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getBarAttribute</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">barName</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">alternative</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">object</span><a href="foundry.documents.TokenDocument.html#getbarattribute-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>A helper method to retrieve the underlying data behind one of the Token's attribute bars</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">barName</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The named bar to retrieve the attribute for</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">alternative</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">alternative</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><p>An alternative attribute path to get instead of the default one</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">object</span></h4><p>The attribute displayed on the Token bar, if any</p>
<div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="getcenterpoint" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Center<wbr/>Point</span><a href="foundry.documents.TokenDocument.html#getcenterpoint" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="getcenterpoint-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getCenterPoint</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.types.ElevatedPoint.html" class="tsd-signature-type tsd-kind-interface">ElevatedPoint</a> <span class="tsd-signature-symbol">&amp;</span> <a href="../types/foundry.documents.types.TokenDimensions.html" class="tsd-signature-type tsd-kind-type-alias">TokenDimensions</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.types.ElevatedPoint.html" class="tsd-signature-type tsd-kind-interface">ElevatedPoint</a><a href="foundry.documents.TokenDocument.html#getcenterpoint-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get the center point of the Token.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.types.ElevatedPoint.html" class="tsd-signature-type tsd-kind-interface">ElevatedPoint</a> <span class="tsd-signature-symbol">&amp;</span> <a href="../types/foundry.documents.types.TokenDimensions.html" class="tsd-signature-type tsd-kind-type-alias">TokenDimensions</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>The position and dimensions</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../interfaces/foundry.types.ElevatedPoint.html" class="tsd-signature-type tsd-kind-interface">ElevatedPoint</a></h4><p>The center point</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#getcenterpoint">getCenterPoint</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="getcompletemovementpath" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Complete<wbr/>Movement<wbr/>Path</span><a href="foundry.documents.TokenDocument.html#getcompletemovementpath" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="getcompletemovementpath-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getCompleteMovementPath</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">waypoints</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.documents.types.TokenGetCompleteMovementPathWaypoint.html" class="tsd-signature-type tsd-kind-interface">TokenGetCompleteMovementPathWaypoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="../types/foundry.documents.types.TokenCompleteMovementWaypoint.html" class="tsd-signature-type tsd-kind-type-alias">TokenCompleteMovementWaypoint</a><span class="tsd-signature-symbol">[]</span><a href="foundry.documents.TokenDocument.html#getcompletemovementpath-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get the path of movement with the intermediate steps of the direct path between waypoints.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">waypoints</span>: <a href="../interfaces/foundry.documents.types.TokenGetCompleteMovementPathWaypoint.html" class="tsd-signature-type tsd-kind-interface">TokenGetCompleteMovementPathWaypoint</a><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>The waypoints of movement</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../types/foundry.documents.types.TokenCompleteMovementWaypoint.html" class="tsd-signature-type tsd-kind-type-alias">TokenCompleteMovementWaypoint</a><span class="tsd-signature-symbol">[]</span></h4><p>The path of movement with all intermediate steps</p>
<div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="getembeddedcollection" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Embedded<wbr/>Collection</span><a href="foundry.documents.TokenDocument.html#getembeddedcollection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="getembeddedcollection-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getEmbeddedCollection</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">embeddedName</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><a href="foundry.documents.TokenDocument.html#getembeddedcollection-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Obtain a reference to the Array of source data within the data object for a certain embedded Document name</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">embeddedName</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>The name of the embedded Document type</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">any</span></h4><p>The Collection instance of embedded Documents of the requested type</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Overrides <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#getembeddedcollection">getEmbeddedCollection</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="getembeddeddocument" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Embedded<wbr/>Document</span><a href="foundry.documents.TokenDocument.html#getembeddeddocument" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="getembeddeddocument-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getEmbeddedDocument</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">embeddedName</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">id</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">invalid</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">strict</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#getembeddeddocument-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get an embedded document by its id from a named collection in the parent document.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">embeddedName</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The name of the embedded Document type</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">id</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The id of the child document to retrieve</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">invalid</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">strict</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Additional options which modify how embedded documents are retrieved</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">invalid</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span></h5><div class="tsd-comment tsd-typography"><p>Allow retrieving an invalid Embedded Document.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">strict</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span></h5><div class="tsd-comment tsd-typography"><p>Throw an Error if the requested id does not exist. See Collection#get</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span></h4><p>The retrieved embedded Document instance, or undefined</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws" class="tsd-anchor"></a>Throws<a href="foundry.documents.TokenDocument.html#throws" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>If the embedded collection does not exist, or if strict is true and the Embedded Document could not be
found.</p>
</div></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#getembeddeddocument">getEmbeddedDocument</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="getflag" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Flag</span><a href="foundry.documents.TokenDocument.html#getflag" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="getflag-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getFlag</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">scope</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">key</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><a href="foundry.documents.TokenDocument.html#getflag-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get the value of a &quot;flag&quot; for this document
See the setFlag method for more details on flags</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">scope</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The flag scope which namespaces the key</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The flag key</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">any</span></h4><p>The flag value</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#getflag">getFlag</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="getgridspacepolygon" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Grid<wbr/>Space<wbr/>Polygon</span><a href="foundry.documents.TokenDocument.html#getgridspacepolygon" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="getgridspacepolygon-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getGridSpacePolygon</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/foundry.documents.types.TokenDimensions.html" class="tsd-signature-type tsd-kind-type-alias">TokenDimensions</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span> <span class="tsd-signature-symbol">|</span> <a href="../interfaces/foundry.types.Point.html" class="tsd-signature-type tsd-kind-interface">Point</a><span class="tsd-signature-symbol">[]</span><a href="foundry.documents.TokenDocument.html#getgridspacepolygon-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get the grid space polygon of the Token.
Returns undefined in gridless grids because there are no grid spaces.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/foundry.documents.types.TokenDimensions.html" class="tsd-signature-type tsd-kind-type-alias">TokenDimensions</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>The dimensions</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span> <span class="tsd-signature-symbol">|</span> <a href="../interfaces/foundry.types.Point.html" class="tsd-signature-type tsd-kind-interface">Point</a><span class="tsd-signature-symbol">[]</span></h4><p>The grid space polygon or undefined if gridless</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#getgridspacepolygon">getGridSpacePolygon</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="getoccupiedgridspaceoffsets" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Occupied<wbr/>Grid<wbr/>Space<wbr/>Offsets</span><a href="foundry.documents.TokenDocument.html#getoccupiedgridspaceoffsets" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="getoccupiedgridspaceoffsets-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getOccupiedGridSpaceOffsets</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.types.Point.html" class="tsd-signature-type tsd-kind-interface">Point</a> <span class="tsd-signature-symbol">&amp;</span> <a href="../types/foundry.documents.types.TokenDimensions.html" class="tsd-signature-type tsd-kind-type-alias">TokenDimensions</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.grid.types.GridOffset2D.html" class="tsd-signature-type tsd-kind-interface">GridOffset2D</a><span class="tsd-signature-symbol">[]</span><a href="foundry.documents.TokenDocument.html#getoccupiedgridspaceoffsets-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get the offsets of grid spaces that are occupied by this Token at the current or given position.
The grid spaces the Token occupies are those that are covered by the Token's shape in the snapped position.
Returns an empty array in gridless grids.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.types.Point.html" class="tsd-signature-type tsd-kind-interface">Point</a> <span class="tsd-signature-symbol">&amp;</span> <a href="../types/foundry.documents.types.TokenDimensions.html" class="tsd-signature-type tsd-kind-type-alias">TokenDimensions</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>The position and dimensions</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../interfaces/foundry.grid.types.GridOffset2D.html" class="tsd-signature-type tsd-kind-interface">GridOffset2D</a><span class="tsd-signature-symbol">[]</span></h4><p>The offsets of occupied grid spaces</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#getoccupiedgridspaceoffsets">getOccupiedGridSpaceOffsets</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="getsize" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Size</span><a href="foundry.documents.TokenDocument.html#getsize" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="getsize-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getSize</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">height</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">width</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">height</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">width</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span> <span class="tsd-signature-symbol">}</span><a href="foundry.documents.TokenDocument.html#getsize-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get the width and height of the Token in pixels.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">height</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">width</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>The width and/or height in grid units (must be positive)</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">height</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">width</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span> <span class="tsd-signature-symbol">}</span></h4><p>The width and height in pixels</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#getsize">getSize</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="getsnappedposition" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Snapped<wbr/>Position</span><a href="foundry.documents.TokenDocument.html#getsnappedposition" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="getsnappedposition-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getSnappedPosition</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.types.ElevatedPoint.html" class="tsd-signature-type tsd-kind-interface">ElevatedPoint</a> <span class="tsd-signature-symbol">&amp;</span> <a href="../types/foundry.documents.types.TokenDimensions.html" class="tsd-signature-type tsd-kind-type-alias">TokenDimensions</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.types.ElevatedPoint.html" class="tsd-signature-type tsd-kind-interface">ElevatedPoint</a><a href="foundry.documents.TokenDocument.html#getsnappedposition-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get the snapped position of the Token.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.types.ElevatedPoint.html" class="tsd-signature-type tsd-kind-interface">ElevatedPoint</a> <span class="tsd-signature-symbol">&amp;</span> <a href="../types/foundry.documents.types.TokenDimensions.html" class="tsd-signature-type tsd-kind-type-alias">TokenDimensions</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>The position and dimensions</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../interfaces/foundry.types.ElevatedPoint.html" class="tsd-signature-type tsd-kind-interface">ElevatedPoint</a></h4><p>The snapped position</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#getsnappedposition">getSnappedPosition</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="getuserlevel" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>User<wbr/>Level</span><a href="foundry.documents.TokenDocument.html#getuserlevel" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="getuserlevel-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getUserLevel</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">user</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><a href="foundry.documents.TokenDocument.html#getuserlevel-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get the explicit permission level that a User has over this Document, a value in CONST.DOCUMENT_OWNERSHIP_LEVELS.
Compendium content ignores the ownership field in favor of User role-based ownership. Otherwise, Documents use
granular per-User ownership definitions and Embedded Documents defer to their parent ownership.</p>
<p>This method returns the value recorded in Document ownership, regardless of the User's role, for example a
GAMEMASTER user might still return a result of NONE if they are not explicitly denoted as having a level.</p>
<p>To test whether a user has a certain capability over the document, testUserPermission should be used.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">user</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>The User being tested</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">any</span></h4><p>A numeric permission level from <a href="../variables/CONST.DOCUMENT_OWNERSHIP_LEVELS.html" class="tsd-kind-variable">CONST.DOCUMENT_OWNERSHIP_LEVELS</a></p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#getuserlevel">getUserLevel</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="hasstatuseffect" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>has<wbr/>Status<wbr/>Effect</span><a href="foundry.documents.TokenDocument.html#hasstatuseffect" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="hasstatuseffect-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">hasStatusEffect</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">statusId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="foundry.documents.TokenDocument.html#hasstatuseffect-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Test whether a Token has a specific status effect.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">statusId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The status effect ID as defined in CONFIG.statusEffects</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>Does the Actor of the Token have this status effect?</p>
<div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="measuremovementpath" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>measure<wbr/>Movement<wbr/>Path</span><a href="foundry.documents.TokenDocument.html#measuremovementpath" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="measuremovementpath-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">measureMovementPath</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">waypoints</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.documents.types.TokenMeasureMovementPathWaypoint.html" class="tsd-signature-type tsd-kind-interface">TokenMeasureMovementPathWaypoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{</span><br/>        <span class="tsd-kind-property">aggregator</span><span class="tsd-signature-symbol">?:</span> <a href="../types/foundry.documents.types.TokenMovementCostAggregator.html" class="tsd-signature-type tsd-kind-type-alias">TokenMovementCostAggregator</a><span class="tsd-signature-symbol">;</span><br/>        <span class="tsd-kind-property">cost</span><span class="tsd-signature-symbol">?:</span> <a href="../types/foundry.documents.types.TokenMovementCostFunction.html" class="tsd-signature-type tsd-kind-type-alias">TokenMovementCostFunction</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.grid.types.GridMeasurePathResult.html" class="tsd-signature-type tsd-kind-interface">GridMeasurePathResult</a><a href="foundry.documents.TokenDocument.html#measuremovementpath-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Measure the movement path for this Token.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">waypoints</span>: <a href="../interfaces/foundry.documents.types.TokenMeasureMovementPathWaypoint.html" class="tsd-signature-type tsd-kind-interface">TokenMeasureMovementPathWaypoint</a><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>The waypoints of movement</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">aggregator</span><span class="tsd-signature-symbol">?:</span> <a href="../types/foundry.documents.types.TokenMovementCostAggregator.html" class="tsd-signature-type tsd-kind-type-alias">TokenMovementCostAggregator</a><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">cost</span><span class="tsd-signature-symbol">?:</span> <a href="../types/foundry.documents.types.TokenMovementCostFunction.html" class="tsd-signature-type tsd-kind-type-alias">TokenMovementCostFunction</a> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Additional measurement options</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">aggregator</span><span class="tsd-signature-symbol">?: </span><a href="../types/foundry.documents.types.TokenMovementCostAggregator.html" class="tsd-signature-type tsd-kind-type-alias">TokenMovementCostAggregator</a></h5><div class="tsd-comment tsd-typography"><p>The cost aggregator.
Default: <code>CONFIG.Token.movement.costAggregator</code>.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">cost</span><span class="tsd-signature-symbol">?: </span><a href="../types/foundry.documents.types.TokenMovementCostFunction.html" class="tsd-signature-type tsd-kind-type-alias">TokenMovementCostFunction</a></h5><div class="tsd-comment tsd-typography"><p>The function that returns the cost
for a given move between grid spaces (default is the distance travelled along the direct path)</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../interfaces/foundry.grid.types.GridMeasurePathResult.html" class="tsd-signature-type tsd-kind-interface">GridMeasurePathResult</a></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="migratesystemdata" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>migrate<wbr/>System<wbr/>Data</span><a href="foundry.documents.TokenDocument.html#migratesystemdata" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="migratesystemdata-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">migrateSystemData</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><a href="foundry.documents.TokenDocument.html#migratesystemdata-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>For Documents which include game system data, migrate the system data object to conform to its latest data model.
The data model is defined by the template.json specification included by the game system.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">object</span></h4><p>The migrated system data object</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#migratesystemdata">migrateSystemData</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="move" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>move</span><a href="foundry.documents.TokenDocument.html#move" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="move-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">move</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">waypoints</span><span class="tsd-signature-symbol">:</span><br/>        <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/foundry.documents.types.TokenMovementWaypoint.html" class="tsd-signature-type tsd-kind-type-alias">TokenMovementWaypoint</a><span class="tsd-signature-symbol">&gt;</span><br/>        <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/foundry.documents.types.TokenMovementWaypoint.html" class="tsd-signature-type tsd-kind-type-alias">TokenMovementWaypoint</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><br/>        <span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseUpdateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseUpdateOperation</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;updates&quot;</span><span class="tsd-signature-symbol">&gt;</span> <span class="tsd-signature-symbol">&amp;</span> <span class="tsd-signature-symbol">{</span><br/>            <span class="tsd-kind-property">autoRotate</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span><br/>            <span class="tsd-kind-property">constrainOptions</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><br/>                <a href="../interfaces/foundry.types.TokenConstrainMovementPathOptions.html" class="tsd-signature-type tsd-kind-interface">TokenConstrainMovementPathOptions</a><span class="tsd-signature-symbol">,</span><br/>                <span class="tsd-signature-type">&quot;preview&quot;</span><br/>                <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">&quot;history&quot;</span><span class="tsd-signature-symbol">,</span><br/>            <span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>            <span class="tsd-kind-property">method</span><span class="tsd-signature-symbol">:</span> <a href="../types/foundry.documents.types.TokenMovementMethod.html" class="tsd-signature-type tsd-kind-type-alias">TokenMovementMethod</a><span class="tsd-signature-symbol">;</span><br/>            <span class="tsd-kind-property">showRuler</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span><br/>        <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#move-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Move the Token through the given waypoint(s).</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">waypoints</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/foundry.documents.types.TokenMovementWaypoint.html" class="tsd-signature-type tsd-kind-type-alias">TokenMovementWaypoint</a><span class="tsd-signature-symbol">&gt;</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/foundry.documents.types.TokenMovementWaypoint.html" class="tsd-signature-type tsd-kind-type-alias">TokenMovementWaypoint</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>The waypoint(s) to move the Token through</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><br/>    <span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseUpdateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseUpdateOperation</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;updates&quot;</span><span class="tsd-signature-symbol">&gt;</span> <span class="tsd-signature-symbol">&amp;</span> <span class="tsd-signature-symbol">{</span><br/>        <span class="tsd-kind-property">autoRotate</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span><br/>        <span class="tsd-kind-property">constrainOptions</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><br/>            <a href="../interfaces/foundry.types.TokenConstrainMovementPathOptions.html" class="tsd-signature-type tsd-kind-interface">TokenConstrainMovementPathOptions</a><span class="tsd-signature-symbol">,</span><br/>            <span class="tsd-signature-type">&quot;preview&quot;</span><br/>            <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">&quot;history&quot;</span><span class="tsd-signature-symbol">,</span><br/>        <span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>        <span class="tsd-kind-property">method</span><span class="tsd-signature-symbol">:</span> <a href="../types/foundry.documents.types.TokenMovementMethod.html" class="tsd-signature-type tsd-kind-type-alias">TokenMovementMethod</a><span class="tsd-signature-symbol">;</span><br/>        <span class="tsd-kind-property">showRuler</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Parameters of the update operation</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4><p>A Promise that resolves to true if the Token was moved, otherwise resolves to false</p>
<div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="pausemovement" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>pause<wbr/>Movement</span><a href="foundry.documents.TokenDocument.html#pausemovement" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="pausemovement-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">pauseMovement</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="../types/foundry.documents.types.TokenResumeMovementCallback.html" class="tsd-signature-type tsd-kind-type-alias">TokenResumeMovementCallback</a><a href="foundry.documents.TokenDocument.html#pausemovement-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Pause the movement of this Token document. The movement can be resumed after being paused.
Only the User that initiated the movement can pause it.
Returns a callback that can be used to resume the movement later.
Only after all callbacks and keys have been called the movement of the Token is resumed.
If the callback is called within the update operation workflow, the movement is resumed after the workflow.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="../types/foundry.documents.types.TokenResumeMovementCallback.html" class="tsd-signature-type tsd-kind-type-alias">TokenResumeMovementCallback</a></h4><p>The callback to resume movement if the movement was or is paused,
otherwise null</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example" class="tsd-anchor"></a>Example<a href="foundry.documents.TokenDocument.html#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-0">// This is an Execute Script Region Behavior that makes the token invisible</span><br/><span class="hl-0">// On TOKEN_MOVE_IN...</span><br/><span class="hl-9">if</span><span class="hl-3"> ( !</span><span class="hl-2">event</span><span class="hl-3">.</span><span class="hl-2">user</span><span class="hl-3">.</span><span class="hl-2">isSelf</span><span class="hl-3"> ) </span><span class="hl-9">return</span><span class="hl-3">;</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">resumeMovement</span><span class="hl-3"> = </span><span class="hl-2">event</span><span class="hl-3">.</span><span class="hl-2">data</span><span class="hl-3">.</span><span class="hl-2">token</span><span class="hl-3">.</span><span class="hl-4">pauseMovement</span><span class="hl-3">();</span><br/><span class="hl-9">if</span><span class="hl-3"> ( </span><span class="hl-2">event</span><span class="hl-3">.</span><span class="hl-2">data</span><span class="hl-3">.</span><span class="hl-2">token</span><span class="hl-3">.</span><span class="hl-2">rendered</span><span class="hl-3"> ) </span><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-2">event</span><span class="hl-3">.</span><span class="hl-2">data</span><span class="hl-3">.</span><span class="hl-2">token</span><span class="hl-3">.</span><span class="hl-2">object</span><span class="hl-3">.</span><span class="hl-2">movementAnimationPromise</span><span class="hl-3">;</span><br/><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-2">event</span><span class="hl-3">.</span><span class="hl-2">data</span><span class="hl-3">.</span><span class="hl-2">token</span><span class="hl-3">.</span><span class="hl-2">actor</span><span class="hl-3">.</span><span class="hl-4">toggleStatusEffect</span><span class="hl-3">(</span><span class="hl-6">&quot;invisible&quot;</span><span class="hl-3">, {</span><span class="hl-2">active:</span><span class="hl-3"> </span><span class="hl-1">true</span><span class="hl-3">});</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">resumed</span><span class="hl-3"> = </span><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-4">resumeMovement</span><span class="hl-3">();</span>
</code><button type="button">Copy</button></pre>

</div></div></div></li><li class=""><div class="tsd-signature tsd-anchor-link"><a id="pausemovement-2" class="tsd-anchor"></a><span class="tsd-kind-call-signature">pauseMovement</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">key</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#pausemovement-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Pause the movement of this Token document. The movement can be resumed after being paused.
Only the User that initiated the movement can pause it.
Returns a promise that resolves to true if the movement was resumed by
<a href="foundry.documents.TokenDocument.html#resumemovement" class="tsd-kind-method">TokenDocument#resumeMovement</a> with the same key that was passed to this function.
Only after all callbacks and keys have been called the movement of the Token is resumed.
If the callback is called within the update operation workflow, the movement is resumed after the workflow.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The key to resume movement with <a href="foundry.documents.TokenDocument.html#resumemovement" class="tsd-kind-method">TokenDocument#resumeMovement</a></p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4><p>The continuation promise if the movement was paused, otherwise null</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-1" class="tsd-anchor"></a>Example<a href="foundry.documents.TokenDocument.html#example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-0">// This is an Execute Script Region Behavior of a pressure plate that activates a trap</span><br/><span class="hl-0">// On TOKEN_MOVE_IN...</span><br/><span class="hl-9">if</span><span class="hl-3"> ( </span><span class="hl-2">event</span><span class="hl-3">.</span><span class="hl-2">user</span><span class="hl-3">.</span><span class="hl-2">isSelf</span><span class="hl-3"> ) {</span><br/><span class="hl-3">  </span><span class="hl-2">event</span><span class="hl-3">.</span><span class="hl-2">data</span><span class="hl-3">.</span><span class="hl-2">token</span><span class="hl-3">.</span><span class="hl-4">pauseMovement</span><span class="hl-3">(</span><span class="hl-1">this</span><span class="hl-3">.</span><span class="hl-2">parent</span><span class="hl-3">.</span><span class="hl-2">uuid</span><span class="hl-3">);</span><br/><span class="hl-3">}</span><br/><span class="hl-9">if</span><span class="hl-3"> ( </span><span class="hl-2">game</span><span class="hl-3">.</span><span class="hl-2">user</span><span class="hl-3">.</span><span class="hl-2">isActiveGM</span><span class="hl-3"> ) {</span><br/><span class="hl-3">  </span><span class="hl-9">if</span><span class="hl-3"> ( </span><span class="hl-2">event</span><span class="hl-3">.</span><span class="hl-2">data</span><span class="hl-3">.</span><span class="hl-2">token</span><span class="hl-3">.</span><span class="hl-2">rendered</span><span class="hl-3"> ) </span><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-2">event</span><span class="hl-3">.</span><span class="hl-2">data</span><span class="hl-3">.</span><span class="hl-2">token</span><span class="hl-3">.</span><span class="hl-2">object</span><span class="hl-3">.</span><span class="hl-2">movementAnimationPromise</span><span class="hl-3">;</span><br/><span class="hl-3">  </span><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">trapUuid</span><span class="hl-3">; </span><span class="hl-0">// The Region Behavior UUID of the trap</span><br/><span class="hl-3">  </span><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">trapBehavior</span><span class="hl-3"> = </span><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-4">fromUuid</span><span class="hl-3">(</span><span class="hl-2">trapUuid</span><span class="hl-3">);</span><br/><span class="hl-3">  </span><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-2">trapBehavior</span><span class="hl-3">.</span><span class="hl-4">update</span><span class="hl-3">({</span><span class="hl-2">disabled:</span><span class="hl-3"> </span><span class="hl-1">false</span><span class="hl-3">});</span><br/><span class="hl-3">  </span><span class="hl-2">event</span><span class="hl-3">.</span><span class="hl-2">data</span><span class="hl-3">.</span><span class="hl-2">token</span><span class="hl-3">.</span><span class="hl-4">resumeMovement</span><span class="hl-3">(</span><span class="hl-2">event</span><span class="hl-3">.</span><span class="hl-2">data</span><span class="hl-3">.</span><span class="hl-2">movement</span><span class="hl-3">.</span><span class="hl-2">id</span><span class="hl-3">, </span><span class="hl-1">this</span><span class="hl-3">.</span><span class="hl-2">parent</span><span class="hl-3">.</span><span class="hl-2">uuid</span><span class="hl-3">);</span><br/><span class="hl-3">}</span>
</code><button type="button">Copy</button></pre>

</div></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="preparebasedata" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>prepare<wbr/>Base<wbr/>Data</span><a href="foundry.documents.TokenDocument.html#preparebasedata" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="preparebasedata-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">prepareBaseData</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#preparebasedata-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="preparederiveddata" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>prepare<wbr/>Derived<wbr/>Data</span><a href="foundry.documents.TokenDocument.html#preparederiveddata" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="preparederiveddata-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">prepareDerivedData</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#preparederiveddata-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-inheritDoc"><h4 class="tsd-anchor-link"><a id="inherit-doc-6" class="tsd-anchor"></a>Inherit Doc<a href="foundry.documents.TokenDocument.html#inherit-doc-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4></div></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="prepareembeddeddocuments" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>prepare<wbr/>Embedded<wbr/>Documents</span><a href="foundry.documents.TokenDocument.html#prepareembeddeddocuments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="prepareembeddeddocuments-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">prepareEmbeddedDocuments</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#prepareembeddeddocuments-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-inheritDoc"><h4 class="tsd-anchor-link"><a id="inherit-doc-7" class="tsd-anchor"></a>Inherit Doc<a href="foundry.documents.TokenDocument.html#inherit-doc-7" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4></div></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="reset" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>reset</span><a href="foundry.documents.TokenDocument.html#reset" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="reset-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">reset</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#reset-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Reset the state of this data instance back to mirror the contained source data, erasing any changes.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#reset">reset</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="resize" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>resize</span><a href="foundry.documents.TokenDocument.html#resize" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="resize-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">resize</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">dimensions</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/foundry.documents.types.TokenDimensions.html" class="tsd-signature-type tsd-kind-type-alias">TokenDimensions</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseUpdateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseUpdateOperation</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;updates&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#resize-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Resize the token Token such that its center point remains (almost) unchanged. The center point might change
slightly because the new (x, y) position is rounded.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">dimensions</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/foundry.documents.types.TokenDimensions.html" class="tsd-signature-type tsd-kind-type-alias">TokenDimensions</a><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>The new dimensions</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseUpdateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseUpdateOperation</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;updates&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>Parameters of the update operation</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4><p>A Promise that resolves to true if the Token was resized, otherwise resolves to false</p>
<div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="resumemovement" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>resume<wbr/>Movement</span><a href="foundry.documents.TokenDocument.html#resumemovement" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="resumemovement-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">resumeMovement</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">movementId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">key</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#resumemovement-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Resume the movement given its ID and the key that was passed to <a href="foundry.documents.TokenDocument.html#pausemovement" class="tsd-kind-method">TokenDocument#pauseMovement</a>.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">movementId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The movement ID</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The key that was passed to <a href="foundry.documents.TokenDocument.html#pausemovement" class="tsd-kind-method">TokenDocument#pauseMovement</a></p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="revertrecordedmovement" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>revert<wbr/>Recorded<wbr/>Movement</span><a href="foundry.documents.TokenDocument.html#revertrecordedmovement" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="revertrecordedmovement-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">revertRecordedMovement</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">movementId</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#revertrecordedmovement-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Undo all recorded movement or the recorded movement corresponding to given movement ID up to the last movement.
The token is displaced to the prior recorded position and the movement history it rolled back accordingly.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">movementId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The ID of the recorded movement to undo</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4><p>True if the movement was undone, otherwise false</p>
<div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="segmentizeregionmovementpath" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>segmentize<wbr/>Region<wbr/>Movement<wbr/>Path</span><a href="foundry.documents.TokenDocument.html#segmentizeregionmovementpath" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="segmentizeregionmovementpath-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">segmentizeRegionMovementPath</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">region</span><span class="tsd-signature-symbol">:</span> <a href="foundry.documents.RegionDocument.html" class="tsd-signature-type tsd-kind-class">RegionDocument</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">waypoints</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.documents.types.TokenSegmentizeMovementWaypoint.html" class="tsd-signature-type tsd-kind-interface">TokenSegmentizeMovementWaypoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.documents.types.TokenRegionMovementSegment.html" class="tsd-signature-type tsd-kind-interface">TokenRegionMovementSegment</a><span class="tsd-signature-symbol">[]</span><a href="foundry.documents.TokenDocument.html#segmentizeregionmovementpath-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Split the Token movement path through the Region into its segments.
The Token and the Region must be in the same Scene.</p>
<p>Implementations of this function are restricted in the following ways:</p>
<ul>
<li>The segments must go through the waypoints.</li>
<li>The <em>from</em> position matches the <em>to</em> position of the succeeding segment.</li>
<li>The Token must be contained (w.r.t. <a href="foundry.documents.TokenDocument.html#testinsideregion" class="tsd-kind-method">TokenDocument#testInsideRegion</a>) within the Region
at the <em>from</em> and <em>to</em> of MOVE segments.</li>
<li>The Token must be contained (w.r.t. <a href="foundry.documents.TokenDocument.html#testinsideregion" class="tsd-kind-method">TokenDocument#testInsideRegion</a>) within the Region
at the <em>to</em> position of ENTER segments.</li>
<li>The Token must be contained (w.r.t. <a href="foundry.documents.TokenDocument.html#testinsideregion" class="tsd-kind-method">TokenDocument#testInsideRegion</a>) within the Region
at the <em>from</em> position of EXIT segments.</li>
<li>The Token must not be contained (w.r.t. <a href="foundry.documents.TokenDocument.html#testinsideregion" class="tsd-kind-method">TokenDocument#testInsideRegion</a>) within the
Region at the <em>from</em> position of ENTER segments.</li>
<li>The Token must not be contained (w.r.t. <a href="foundry.documents.TokenDocument.html#testinsideregion" class="tsd-kind-method">TokenDocument#testInsideRegion</a>) within the
Region at the <em>to</em> position of EXIT segments.</li>
<li>This function must not use prepared field values that are animated. In particular, it must use the source
instead of prepared values of the following fields: <code>x</code>, <code>y</code>, <code>elevation</code>, <code>width</code>, <code>height</code>, and <code>shape</code>.</li>
</ul>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">region</span>: <a href="foundry.documents.RegionDocument.html" class="tsd-signature-type tsd-kind-class">RegionDocument</a></span><div class="tsd-comment tsd-typography"><p>The region</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">waypoints</span>: <a href="../interfaces/foundry.documents.types.TokenSegmentizeMovementWaypoint.html" class="tsd-signature-type tsd-kind-interface">TokenSegmentizeMovementWaypoint</a><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>The waypoints of movement</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../interfaces/foundry.documents.types.TokenRegionMovementSegment.html" class="tsd-signature-type tsd-kind-interface">TokenRegionMovementSegment</a><span class="tsd-signature-symbol">[]</span></h4><p>The movement split into its segments</p>
<div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="setflag" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>set<wbr/>Flag</span><a href="foundry.documents.TokenDocument.html#setflag" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="setflag-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">setFlag</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">scope</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">key</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#setflag-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Assign a &quot;flag&quot; to this document.
Flags represent key-value type data which can be used to store flexible or arbitrary data required by either
the core software, game systems, or user-created modules.</p>
<p>Each flag should be set using a scope which provides a namespace for the flag to help prevent collisions.</p>
<p>Flags set by the core software use the &quot;core&quot; scope.
Flags set by game systems or modules should use the canonical name attribute for the module
Flags set by an individual world should &quot;world&quot; as the scope.</p>
<p>Flag values can assume almost any data type. Setting a flag value to null will delete that flag.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">scope</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The flag scope which namespaces the key</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The flag key</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">value</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>The flag value</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>A Promise resolving to the updated document</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#setflag">setFlag</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="stopmovement" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>stop<wbr/>Movement</span><a href="foundry.documents.TokenDocument.html#stopmovement" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="stopmovement-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">stopMovement</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="foundry.documents.TokenDocument.html#stopmovement-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Stop the movement of this Token document. The movement cannot be continued after being stopped.
Only the User that initiated the movement can stop it.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>True if the movement was or is stopped, otherwise false</p>
<div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="testinsideregion" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>test<wbr/>Inside<wbr/>Region</span><a href="foundry.documents.TokenDocument.html#testinsideregion" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="testinsideregion-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">testInsideRegion</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">region</span><span class="tsd-signature-symbol">:</span> <a href="foundry.documents.RegionDocument.html" class="tsd-signature-type tsd-kind-class">RegionDocument</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="foundry.documents.TokenDocument.html#testinsideregion-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Test whether the Token is inside the Region.
This function determines the state of <a href="foundry.documents.TokenDocument.html#regions" class="tsd-kind-property">TokenDocument#regions</a> and
<a href="foundry.documents.RegionDocument.html#tokens" class="tsd-kind-property">foundry.documents.RegionDocument#tokens</a>.
The Token and the Region must be in the same Scene.</p>
<p>Implementations of this function are restricted in the following ways:</p>
<ul>
<li>If the bounds (given by <a href="foundry.documents.TokenDocument.html#getsize" class="tsd-kind-method">TokenDocument#getSize</a>) of the Token do not intersect the
Region, then the Token is not contained within the Region.</li>
<li>If the Token is inside the Region a particular elevation, then the Token is inside the Region at any elevation
within the elevation range of the Region.</li>
<li>This function must not use prepared field values that are animated. In particular, it must use the source
instead of prepared values of the following fields: <code>x</code>, <code>y</code>, <code>elevation</code>, <code>width</code>, <code>height</code>, and <code>shape</code>.</li>
</ul>
<p>If this function is overridden, then <a href="foundry.documents.TokenDocument.html#segmentizeregionmovementpath" class="tsd-kind-method">TokenDocument#segmentizeRegionMovementPath</a> must be
overridden too.</p>
<p>If an override of this function uses Token document fields other than <code>x</code>, <code>y</code>, <code>elevation</code>, <code>width</code>, <code>height</code>, and
<code>shape</code>, <a href="foundry.documents.TokenDocument.html#_couldregionschange" class="tsd-kind-method">TokenDocument#_couldRegionsChange</a> must be overridden to return true for changes
of these fields. If an override of this function uses non-Token properties other than <code>Scene#grid.type</code> and
<code>Scene#grid.size</code>,
<a href="foundry.documents.Scene.html#updatetokenregions" class="tsd-kind-method">foundry.documents.Scene#updateTokenRegions</a> must be called when any of those properties change.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">region</span>: <a href="foundry.documents.RegionDocument.html" class="tsd-signature-type tsd-kind-class">RegionDocument</a></span><div class="tsd-comment tsd-typography"><p>The region.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>Is inside the Region?</p>
<div class="tsd-comment tsd-typography"></div></div></li><li class=""><div class="tsd-signature tsd-anchor-link"><a id="testinsideregion-2" class="tsd-anchor"></a><span class="tsd-kind-call-signature">testInsideRegion</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">region</span><span class="tsd-signature-symbol">:</span> <a href="foundry.documents.RegionDocument.html" class="tsd-signature-type tsd-kind-class">RegionDocument</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.types.ElevatedPoint.html" class="tsd-signature-type tsd-kind-interface">ElevatedPoint</a> <span class="tsd-signature-symbol">&amp;</span> <a href="../types/foundry.documents.types.TokenDimensions.html" class="tsd-signature-type tsd-kind-type-alias">TokenDimensions</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="foundry.documents.TokenDocument.html#testinsideregion-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">region</span>: <a href="foundry.documents.RegionDocument.html" class="tsd-signature-type tsd-kind-class">RegionDocument</a></span><div class="tsd-comment tsd-typography"><p>The region.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.types.ElevatedPoint.html" class="tsd-signature-type tsd-kind-interface">ElevatedPoint</a> <span class="tsd-signature-symbol">&amp;</span> <a href="../types/foundry.documents.types.TokenDimensions.html" class="tsd-signature-type tsd-kind-type-alias">TokenDimensions</a><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>The position and dimensions. Defaults to the values of
the document source.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>Is inside the Region?</p>
<div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="testuserpermission" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>test<wbr/>User<wbr/>Permission</span><a href="foundry.documents.TokenDocument.html#testuserpermission" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="testuserpermission-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">testUserPermission</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">user</span><span class="tsd-signature-symbol">:</span> <a href="foundry.documents.BaseUser.html" class="tsd-signature-type tsd-kind-class">BaseUser</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">permission</span><span class="tsd-signature-symbol">:</span> <a href="../types/CONST.DocumentOwnershipLevel.html" class="tsd-signature-type tsd-kind-type-alias">DocumentOwnershipLevel</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">exact</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="foundry.documents.TokenDocument.html#testuserpermission-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Test whether a certain User has a requested permission level (or greater) over the Document</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">user</span>: <a href="foundry.documents.BaseUser.html" class="tsd-signature-type tsd-kind-class">BaseUser</a></span><div class="tsd-comment tsd-typography"><p>The User being tested</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">permission</span>: <a href="../types/CONST.DocumentOwnershipLevel.html" class="tsd-signature-type tsd-kind-type-alias">DocumentOwnershipLevel</a></span><div class="tsd-comment tsd-typography"><p>The permission level from DOCUMENT_OWNERSHIP_LEVELS to test</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">exact</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Additional options involved in the permission test</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">exact</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span></h5><div class="tsd-comment tsd-typography"><p>Require the exact permission level requested?</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>Does the user have this permission level over the Document?</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#testuserpermission">testUserPermission</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="togglecombatant" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>toggle<wbr/>Combatant</span><a href="foundry.documents.TokenDocument.html#togglecombatant" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="togglecombatant-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">toggleCombatant</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">active</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#togglecombatant-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Add or remove this Token from a Combat encounter.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">active</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Additional options passed to TokenDocument.createCombatants or
TokenDocument.deleteCombatants</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">active</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span></h5><div class="tsd-comment tsd-typography"><p>Require this token to be an active Combatant or to be removed.
Otherwise, the current combat state of the Token is toggled.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Is this Token now an active Combatant?</p>
<div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="tojson" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>toJSON</span><a href="foundry.documents.TokenDocument.html#tojson" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="tojson-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">toJSON</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><a href="foundry.documents.TokenDocument.html#tojson-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Extract the source data for the DataModel into a simple object format that can be serialized.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">object</span></h4><p>The document source data expressed as a plain object</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#tojson">toJSON</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="toobject" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>to<wbr/>Object</span><a href="foundry.documents.TokenDocument.html#toobject" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="toobject-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">toObject</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">source</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><a href="foundry.documents.TokenDocument.html#toobject-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Copy and transform the DataModel into a plain object.
Draw the values of the extracted object from the data source (by default) otherwise from its transformed values.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">source</span>: <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = true</span></span><div class="tsd-comment tsd-typography"><p>Draw values from the underlying data source rather than transformed values</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">any</span></h4><p>The extracted primitive object</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#toobject">toObject</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="traverseembeddeddocuments" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>traverse<wbr/>Embedded<wbr/>Documents</span><a href="foundry.documents.TokenDocument.html#traverseembeddeddocuments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="traverseembeddeddocuments-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">traverseEmbeddedDocuments</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">_parentPath</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Generator</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#traverseembeddeddocuments-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Iterate over all embedded Documents that are hierarchical children of this Document.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">_parentPath</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>A parent field path already traversed</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Generator</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-yields"><h4 class="tsd-anchor-link"><a id="yields" class="tsd-anchor"></a>Yields<a href="foundry.documents.TokenDocument.html#yields" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4></div></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#traverseembeddeddocuments">traverseEmbeddedDocuments</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="unsetflag" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>unset<wbr/>Flag</span><a href="foundry.documents.TokenDocument.html#unsetflag" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="unsetflag-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">unsetFlag</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">scope</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">key</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#unsetflag-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Remove a flag assigned to the document</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">scope</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The flag scope which namespaces the key</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The flag key</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>The updated document instance</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#unsetflag">unsetFlag</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="update" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>update</span><a href="foundry.documents.TokenDocument.html#update" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="update-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">update</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">operation</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseUpdateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseUpdateOperation</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;updates&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#update-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Update this Document using incremental data, saving it to the database.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Differential update data which modifies the existing values of this document</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">operation</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseUpdateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseUpdateOperation</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;updates&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Parameters of the update operation</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>The updated Document instance, or undefined not updated</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-see"><h4 class="tsd-anchor-link"><a id="see-4" class="tsd-anchor"></a>See<a href="foundry.documents.TokenDocument.html#see-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><a href="foundry.abstract.Document.html#updatedocuments" class="tsd-kind-method">Document.updateDocuments</a></p>
</div></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#update">update</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="updateembeddeddocuments" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>update<wbr/>Embedded<wbr/>Documents</span><a href="foundry.documents.TokenDocument.html#updateembeddeddocuments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="updateembeddeddocuments-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">updateEmbeddedDocuments</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">embeddedName</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">updates</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">operation</span><span class="tsd-signature-symbol">?:</span> <a href="../interfaces/foundry.abstract.types.DatabaseUpdateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseUpdateOperation</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#updateembeddeddocuments-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Update multiple embedded Document instances within a parent Document using provided differential data.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">embeddedName</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The name of the embedded Document type</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">updates</span>: <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> = []</span></span><div class="tsd-comment tsd-typography"><p>An array of differential data objects, each used to update a
single Document</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">operation</span>: <a href="../interfaces/foundry.abstract.types.DatabaseUpdateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseUpdateOperation</a><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Parameters of the database update workflow</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>An array of updated Document instances</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-see"><h4 class="tsd-anchor-link"><a id="see-5" class="tsd-anchor"></a>See<a href="foundry.documents.TokenDocument.html#see-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><a href="foundry.abstract.Document.html#updatedocuments" class="tsd-kind-method">Document.updateDocuments</a></p>
</div></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#updateembeddeddocuments">updateEmbeddedDocuments</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="updatesource" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>update<wbr/>Source</span><a href="foundry.documents.TokenDocument.html#updatesource" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="updatesource-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">updateSource</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">changes</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><a href="foundry.documents.TokenDocument.html#updatesource-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Update the DataModel locally by applying an object of changes to its source data.
The provided changes are expanded, cleaned, validated, and stored to the source data object for this model.
The provided changes argument is mutated in this process.
The source data is then re-initialized to apply those changes to the prepared data.
The method returns an object of differential changes which modified the original data.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">changes</span>: <span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>New values which should be applied to the data model</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Options which determine how the new data is merged</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">object</span></h4><p>An object containing differential keys and values that were changed</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-1" class="tsd-anchor"></a>Throws<a href="foundry.documents.TokenDocument.html#throws-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>An error if the requested data model changes were invalid</p>
</div></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#updatesource">updateSource</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="updatevisionmode" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>update<wbr/>Vision<wbr/>Mode</span><a href="foundry.documents.TokenDocument.html#updatevisionmode" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="updatevisionmode-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">updateVisionMode</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">visionMode</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">defaults</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <a href="foundry.documents.TokenDocument.html" class="tsd-signature-type tsd-kind-class">TokenDocument</a><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#updatevisionmode-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Convenience method to change a token vision mode.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">visionMode</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The vision mode to apply to this token.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">defaults</span>: <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = true</span></span><div class="tsd-comment tsd-typography"><p>If the vision mode should be updated with its defaults.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <a href="foundry.documents.TokenDocument.html" class="tsd-signature-type tsd-kind-class">TokenDocument</a><span class="tsd-signature-symbol">&gt;</span></h4><p>The updated Document instance, or undefined not updated.</p>
<div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="validate" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>validate</span><a href="foundry.documents.TokenDocument.html#validate" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="validate-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">validate</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <a href="../interfaces/foundry.abstract.types.DataModelValidationOptions.html" class="tsd-signature-type tsd-kind-interface">DataModelValidationOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="foundry.documents.TokenDocument.html#validate-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Validate the data contained in the document to check for type and content.
If changes are provided, missing types are added to it before cleaning and validation.
This mutates the provided changes. This function throws an error if data within the document is not valid.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/foundry.abstract.types.DataModelValidationOptions.html" class="tsd-signature-type tsd-kind-interface">DataModelValidationOptions</a><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Options which modify how the model is validated</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>Whether the data source or proposed change is reported as valid.
A boolean is always returned if validation is non-strict.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-2" class="tsd-anchor"></a>Throws<a href="foundry.documents.TokenDocument.html#throws-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>An error thrown if validation is strict and a failure occurs.</p>
</div></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#validate">validate</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected"><a id="_couldregionschange" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Protected</code><span>_could<wbr/>Regions<wbr/>Change</span><a href="foundry.documents.TokenDocument.html#_couldregionschange" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected"><li class="tsd-is-protected"><div class="tsd-signature tsd-anchor-link"><a id="_couldregionschange-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_couldRegionsChange</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">changes</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="foundry.documents.TokenDocument.html#_couldregionschange-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Protected</code><div class="tsd-comment tsd-typography"><p>Is the Token document updated such that the Regions the Token is contained in may change?
Called as part of the preUpdate workflow.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">changes</span>: <span class="tsd-signature-type">object</span></span><div class="tsd-comment tsd-typography"><p>The changes.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>Could this Token update change Region containment?</p>
<div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected"><a id="_infermovementaction" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Protected</code><span>_infer<wbr/>Movement<wbr/>Action</span><a href="foundry.documents.TokenDocument.html#_infermovementaction" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected"><li class="tsd-is-protected"><div class="tsd-signature tsd-anchor-link"><a id="_infermovementaction-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_inferMovementAction</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><a href="foundry.documents.TokenDocument.html#_infermovementaction-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Protected</code><div class="tsd-comment tsd-typography"><p>Infer the movement action.
The default implementation returns <code>CONFIG.Token.movement.defaultAction</code>.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected"><a id="_inferringsubjecttexture" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Protected</code><span>_infer<wbr/>Ring<wbr/>Subject<wbr/>Texture</span><a href="foundry.documents.TokenDocument.html#_inferringsubjecttexture" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected"><li class="tsd-is-protected"><div class="tsd-signature tsd-anchor-link"><a id="_inferringsubjecttexture-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_inferRingSubjectTexture</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><a href="foundry.documents.TokenDocument.html#_inferringsubjecttexture-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Protected</code><div class="tsd-comment tsd-typography"><p>Infer the subject texture path to use for a token ring.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected"><a id="_onmovementpaused" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Protected</code><span>_on<wbr/>Movement<wbr/>Paused</span><a href="foundry.documents.TokenDocument.html#_onmovementpaused" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected"><li class="tsd-is-protected"><div class="tsd-signature tsd-anchor-link"><a id="_onmovementpaused-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_onMovementPaused</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_onmovementpaused-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Protected</code><div class="tsd-comment tsd-typography"><p>Called when the current movement is paused.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected"><a id="_onmovementrecorded" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Protected</code><span>_on<wbr/>Movement<wbr/>Recorded</span><a href="foundry.documents.TokenDocument.html#_onmovementrecorded" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected"><li class="tsd-is-protected"><div class="tsd-signature tsd-anchor-link"><a id="_onmovementrecorded-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_onMovementRecorded</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_onmovementrecorded-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Protected</code><div class="tsd-comment tsd-typography"><p>Called when the movement is recorded or cleared.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected"><a id="_onmovementstopped" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Protected</code><span>_on<wbr/>Movement<wbr/>Stopped</span><a href="foundry.documents.TokenDocument.html#_onmovementstopped" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected"><li class="tsd-is-protected"><div class="tsd-signature tsd-anchor-link"><a id="_onmovementstopped-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_onMovementStopped</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_onmovementstopped-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Protected</code><div class="tsd-comment tsd-typography"><p>Called when the current movement is stopped.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected"><a id="_onrelatedupdate" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Protected</code><span>_on<wbr/>Related<wbr/>Update</span><a href="foundry.documents.TokenDocument.html#_onrelatedupdate" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected"><li class="tsd-is-protected"><div class="tsd-signature tsd-anchor-link"><a id="_onrelatedupdate-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_onRelatedUpdate</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">update</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">object</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">operation</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/foundry.abstract.types.DatabaseOperation.html" class="tsd-signature-type tsd-kind-type-alias">DatabaseOperation</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_onrelatedupdate-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Protected</code><div class="tsd-comment tsd-typography"><p>Whenever the token's actor delta changes, or the base actor changes, perform associated refreshes.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">update</span>: <span class="tsd-signature-type">object</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>The update delta</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">operation</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/foundry.abstract.types.DatabaseOperation.html" class="tsd-signature-type tsd-kind-type-alias">DatabaseOperation</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>The database operation that was performed</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected"><a id="_onupdatemovement" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Protected</code><span>_on<wbr/>Update<wbr/>Movement</span><a href="foundry.documents.TokenDocument.html#_onupdatemovement" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected"><li class="tsd-is-protected"><div class="tsd-signature tsd-anchor-link"><a id="_onupdatemovement-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_onUpdateMovement</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">movement</span><span class="tsd-signature-symbol">:</span> <a href="../types/foundry.types.DeepReadonly.html" class="tsd-signature-type tsd-kind-type-alias">DeepReadonly</a><span class="tsd-signature-symbol">&lt;</span><a href="../types/foundry.documents.types.TokenMovementOperation.html" class="tsd-signature-type tsd-kind-type-alias">TokenMovementOperation</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">operation</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseUpdateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseUpdateOperation</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">user</span><span class="tsd-signature-symbol">:</span> <a href="../modules/foundry.documents.html" class="tsd-signature-type tsd-kind-namespace">documents</a><span class="tsd-signature-symbol">.</span><a href="foundry.documents.User.html" class="tsd-signature-type tsd-kind-class">User</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_onupdatemovement-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Protected</code><div class="tsd-comment tsd-typography"><p>Post-process an update operation of a movement.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">movement</span>: <a href="../types/foundry.types.DeepReadonly.html" class="tsd-signature-type tsd-kind-type-alias">DeepReadonly</a><span class="tsd-signature-symbol">&lt;</span><a href="../types/foundry.documents.types.TokenMovementOperation.html" class="tsd-signature-type tsd-kind-type-alias">TokenMovementOperation</a><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>The movement of this Token</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">operation</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseUpdateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseUpdateOperation</a><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>The update operation</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">user</span>: <a href="../modules/foundry.documents.html" class="tsd-signature-type tsd-kind-namespace">documents</a><span class="tsd-signature-symbol">.</span><a href="foundry.documents.User.html" class="tsd-signature-type tsd-kind-class">User</a></span><div class="tsd-comment tsd-typography"><p>The User that requested the update operation</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected tsd-is-inherited"><a id="_precreate" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Protected</code><span>_pre<wbr/>Create</span><a href="foundry.documents.TokenDocument.html#_precreate" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected tsd-is-inherited"><li class="tsd-is-protected tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="_precreate-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_preCreate</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">user</span><span class="tsd-signature-symbol">:</span> <a href="foundry.documents.BaseUser.html" class="tsd-signature-type tsd-kind-class">BaseUser</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#_precreate-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Protected</code><div class="tsd-comment tsd-typography"><p>Pre-process a creation operation for a single Document instance. Pre-operation events only occur for the client
which requested the operation.</p>
<p>Modifications to the pending Document instance must be performed using <a href="foundry.documents.TokenDocument.html#updatesource" class="tsd-kind-method">updateSource</a>.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">object</span></span><div class="tsd-comment tsd-typography"><p>The initial data object provided to the document creation request</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">object</span></span><div class="tsd-comment tsd-typography"><p>Additional options which modify the creation request</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">user</span>: <a href="foundry.documents.BaseUser.html" class="tsd-signature-type tsd-kind-class">BaseUser</a></span><div class="tsd-comment tsd-typography"><p>The User requesting the document creation</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Return false to exclude this Document from the creation operation</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_precreate">_preCreate</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected tsd-is-inherited"><a id="_predelete" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Protected</code><span>_pre<wbr/>Delete</span><a href="foundry.documents.TokenDocument.html#_predelete" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected tsd-is-inherited"><li class="tsd-is-protected tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="_predelete-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_preDelete</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">user</span><span class="tsd-signature-symbol">:</span> <a href="foundry.documents.BaseUser.html" class="tsd-signature-type tsd-kind-class">BaseUser</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#_predelete-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Protected</code><div class="tsd-comment tsd-typography"><p>Pre-process a deletion operation for a single Document instance. Pre-operation events only occur for the client
which requested the operation.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">object</span></span><div class="tsd-comment tsd-typography"><p>Additional options which modify the deletion request</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">user</span>: <a href="foundry.documents.BaseUser.html" class="tsd-signature-type tsd-kind-class">BaseUser</a></span><div class="tsd-comment tsd-typography"><p>The User requesting the document deletion</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><p>A return value of false indicates the deletion operation should be cancelled.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_predelete">_preDelete</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected"><a id="_preparedetectionmodes" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Protected</code><span>_prepare<wbr/>Detection<wbr/>Modes</span><a href="foundry.documents.TokenDocument.html#_preparedetectionmodes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected"><li class="tsd-is-protected"><div class="tsd-signature tsd-anchor-link"><a id="_preparedetectionmodes-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_prepareDetectionModes</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_preparedetectionmodes-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Protected</code><div class="tsd-comment tsd-typography"><p>Prepare detection modes which are available to the Token.
Ensure that every Token has the basic sight detection mode configured.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected"><a id="_preupdatemovement" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Protected</code><span>_pre<wbr/>Update<wbr/>Movement</span><a href="foundry.documents.TokenDocument.html#_preupdatemovement" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected"><li class="tsd-is-protected"><div class="tsd-signature tsd-anchor-link"><a id="_preupdatemovement-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_preUpdateMovement</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">movement</span><span class="tsd-signature-symbol">:</span> <a href="../types/foundry.types.DeepReadonly.html" class="tsd-signature-type tsd-kind-type-alias">DeepReadonly</a><span class="tsd-signature-symbol">&lt;</span><br/>        <span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/foundry.documents.types.TokenMovementOperation.html" class="tsd-signature-type tsd-kind-type-alias">TokenMovementOperation</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;autoRotate&quot;</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">&quot;showRuler&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-signature-symbol">&gt;</span> <span class="tsd-signature-symbol">&amp;</span> <span class="tsd-signature-type">Pick</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/foundry.documents.types.TokenMovementOperation.html" class="tsd-signature-type tsd-kind-type-alias">TokenMovementOperation</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;autoRotate&quot;</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">&quot;showRuler&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">operation</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseUpdateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseUpdateOperation</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#_preupdatemovement-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Protected</code><div class="tsd-comment tsd-typography"><p>Reject the movement or modify the update operation as needed based on the movement.
Called after the movement for this document update has been determined.
The waypoints of movement are final and cannot be changed. The movement can only be rejected entirely.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">movement</span>: <a href="../types/foundry.types.DeepReadonly.html" class="tsd-signature-type tsd-kind-type-alias">DeepReadonly</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/foundry.documents.types.TokenMovementOperation.html" class="tsd-signature-type tsd-kind-type-alias">TokenMovementOperation</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;autoRotate&quot;</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">&quot;showRuler&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span> <span class="tsd-signature-symbol">&amp;</span> <span class="tsd-signature-type">Pick</span><span class="tsd-signature-symbol">&lt;</span><br/>    <a href="../types/foundry.documents.types.TokenMovementOperation.html" class="tsd-signature-type tsd-kind-type-alias">TokenMovementOperation</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-signature-type">&quot;autoRotate&quot;</span><br/>    <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">&quot;showRuler&quot;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>The pending movement of this Token</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">operation</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseUpdateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseUpdateOperation</a><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>The update operation</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><p>If false, the movement is prevented</p>
<div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected"><a id="_shouldrecordmovementhistory" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Protected</code><span>_should<wbr/>Record<wbr/>Movement<wbr/>History</span><a href="foundry.documents.TokenDocument.html#_shouldrecordmovementhistory" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected"><li class="tsd-is-protected"><div class="tsd-signature tsd-anchor-link"><a id="_shouldrecordmovementhistory-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_shouldRecordMovementHistory</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="foundry.documents.TokenDocument.html#_shouldrecordmovementhistory-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Protected</code><div class="tsd-comment tsd-typography"><p>Should the movement of this Token update be recorded in the movement history?
Called as part of the preUpdate workflow if the Token is moved.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>Should the movement of this Token update be recorded in the movement history?</p>
<div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited tsd-is-internal"><a id="_adddatafieldmigration" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>_add<wbr/>Data<wbr/>Field<wbr/>Migration</span><a href="foundry.documents.TokenDocument.html#_adddatafieldmigration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited tsd-is-internal"><li class="tsd-is-inherited tsd-is-internal"><div class="tsd-signature tsd-anchor-link"><a id="_adddatafieldmigration-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_addDataFieldMigration</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">oldKey</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">newKey</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">apply</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="foundry.documents.TokenDocument.html#_adddatafieldmigration-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Internal</code><div class="tsd-comment tsd-typography"><p>Define a simple migration from one field name to another.
The value of the data can be transformed during the migration by an optional application function.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">object</span></span><div class="tsd-comment tsd-typography"><p>The data object being migrated</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">oldKey</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The old field name</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">newKey</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The new field name</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">apply</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>An application function, otherwise the old value is applied</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>Whether a migration was applied.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_adddatafieldmigration">_addDataFieldMigration</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited tsd-is-internal"><a id="_adddatafieldshim" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>_add<wbr/>Data<wbr/>Field<wbr/>Shim</span><a href="foundry.documents.TokenDocument.html#_adddatafieldshim" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited tsd-is-internal"><li class="tsd-is-inherited tsd-is-internal"><div class="tsd-signature tsd-anchor-link"><a id="_adddatafieldshim-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_addDataFieldShim</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">oldKey</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">newKey</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">value</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">warning</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_adddatafieldshim-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Internal</code><div class="tsd-comment tsd-typography"><p>A reusable helper for adding a migration shim
The value of the data can be transformed during the migration by an optional application function.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">object</span></span><div class="tsd-comment tsd-typography"><p>The data object being shimmed</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">oldKey</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The old field name</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">newKey</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The new field name</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">value</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">warning</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Options passed to <a href="../functions/foundry.utils.logCompatibilityWarning.html" class="tsd-kind-function">foundry.utils.logCompatibilityWarning</a></p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">value</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">any</span></h5><div class="tsd-comment tsd-typography"><p>The value of the shim</p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">warning</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><p>The deprecation message</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_adddatafieldshim">_addDataFieldShim</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited tsd-is-internal"><a id="_adddatafieldshims" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>_add<wbr/>Data<wbr/>Field<wbr/>Shims</span><a href="foundry.documents.TokenDocument.html#_adddatafieldshims" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited tsd-is-internal"><li class="tsd-is-inherited tsd-is-internal"><div class="tsd-signature tsd-anchor-link"><a id="_adddatafieldshims-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_addDataFieldShims</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">shims</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-signature-symbol">[</span><span class="tsd-kind-index-signature">oldKey</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">value</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">warning</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_adddatafieldshims-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Internal</code><div class="tsd-comment tsd-typography"><p>A reusable helper for adding migration shims.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">object</span></span><div class="tsd-comment tsd-typography"><p>The data object being shimmed</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">shims</span>: <span class="tsd-signature-symbol">{</span> <span class="tsd-signature-symbol">[</span><span class="tsd-kind-index-signature">oldKey</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">}</span></span><div class="tsd-comment tsd-typography"><p>The mapping of old keys to new keys</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">value</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">warning</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">}</span></span><div class="tsd-comment tsd-typography"><p>Options passed to <a href="../functions/foundry.utils.logCompatibilityWarning.html" class="tsd-kind-function">foundry.utils.logCompatibilityWarning</a></p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">value</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">any</span></h5><div class="tsd-comment tsd-typography"><p>The value of the shim</p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">warning</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><p>The deprecation message</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_adddatafieldshims">_addDataFieldShims</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-internal"><a id="_addteleportandforcedshims" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span class="deprecated">_add<wbr/>Teleport<wbr/>And<wbr/>Forced<wbr/>Shims</span><a href="foundry.documents.TokenDocument.html#_addteleportandforcedshims" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-internal"><li class="tsd-is-internal"><div class="tsd-signature tsd-anchor-link"><a id="_addteleportandforcedshims-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_addTeleportAndForcedShims</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">operation</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.abstract.types.DatabaseUpdateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseUpdateOperation</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_addteleportandforcedshims-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Internal</code><div class="tsd-comment tsd-typography"><p>Add deprecated getters for the teleport and forced option.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">operation</span>: <a href="../interfaces/foundry.abstract.types.DatabaseUpdateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseUpdateOperation</a></span><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-deprecated"><h4 class="tsd-anchor-link"><a id="deprecated" class="tsd-anchor"></a>Deprecated<a href="foundry.documents.TokenDocument.html#deprecated" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>since v13</p>
</div></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited tsd-is-internal"><a id="_clearfieldsrecursively" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>_clear<wbr/>Fields<wbr/>Recursively</span><a href="foundry.documents.TokenDocument.html#_clearfieldsrecursively" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited tsd-is-internal"><li class="tsd-is-inherited tsd-is-internal"><div class="tsd-signature tsd-anchor-link"><a id="_clearfieldsrecursively-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_clearFieldsRecursively</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">fieldNames</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">callback</span><span class="tsd-signature-symbol">?:</span> <a href="../types/foundry.RecursiveFieldClearCallback.html" class="tsd-signature-type tsd-kind-type-alias">RecursiveFieldClearCallback</a> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_clearfieldsrecursively-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Internal</code><div class="tsd-comment tsd-typography"><p>Clear the fields from the given Document data recursively.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">object</span></span><div class="tsd-comment tsd-typography"><p>The (partial) Document data</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">fieldNames</span>: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>The fields that are cleared</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">callback</span><span class="tsd-signature-symbol">?:</span> <a href="../types/foundry.RecursiveFieldClearCallback.html" class="tsd-signature-type tsd-kind-type-alias">RecursiveFieldClearCallback</a> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">callback</span><span class="tsd-signature-symbol">?: </span><a href="../types/foundry.RecursiveFieldClearCallback.html" class="tsd-signature-type tsd-kind-type-alias">RecursiveFieldClearCallback</a></h5><div class="tsd-comment tsd-typography"><p>A callback that is invoked on each field in order to clear
it.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_clearfieldsrecursively">_clearFieldsRecursively</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-internal"><a id="_gethexagonaloffsets" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>_get<wbr/>Hexagonal<wbr/>Offsets</span><a href="foundry.documents.TokenDocument.html#_gethexagonaloffsets" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-internal"><li class="tsd-is-internal"><div class="tsd-signature tsd-anchor-link"><a id="_gethexagonaloffsets-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_getHexagonalOffsets</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">width</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">height</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">shape</span><span class="tsd-signature-symbol">:</span> <a href="../types/CONST.TokenShapeType.html" class="tsd-signature-type tsd-kind-type-alias">TokenShapeType</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">columns</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="../types/foundry.types.DeepReadonly.html" class="tsd-signature-type tsd-kind-type-alias">DeepReadonly</a><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.documents.types.TokenHexagonalOffsetsData.html" class="tsd-signature-type tsd-kind-interface">TokenHexagonalOffsetsData</a><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#_gethexagonaloffsets-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Internal</code><div class="tsd-comment tsd-typography"><p>Get the hexagonal offsets given the type, width, and height.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">width</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>The width of the Token (positive)</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">height</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>The height of the Token (positive)</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">shape</span>: <a href="../types/CONST.TokenShapeType.html" class="tsd-signature-type tsd-kind-type-alias">TokenShapeType</a></span><div class="tsd-comment tsd-typography"><p>The shape (one of <a href="../variables/CONST.TOKEN_SHAPES.html" class="tsd-kind-variable">CONST.TOKEN_SHAPES</a>)</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">columns</span>: <span class="tsd-signature-type">boolean</span></span><div class="tsd-comment tsd-typography"><p>Column-based instead of row-based hexagonal grid?</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../types/foundry.types.DeepReadonly.html" class="tsd-signature-type tsd-kind-type-alias">DeepReadonly</a><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.documents.types.TokenHexagonalOffsetsData.html" class="tsd-signature-type tsd-kind-interface">TokenHexagonalOffsetsData</a><span class="tsd-signature-symbol">&gt;</span></h4><p>The hexagonal offsets</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_gethexagonaloffsets">_getHexagonalOffsets</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="_initializationorder" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>_initialization<wbr/>Order</span><a href="foundry.documents.TokenDocument.html#_initializationorder" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="_initializationorder-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_initializationOrder</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Generator</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#_initializationorder-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Generator</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_initializationorder">_initializationOrder</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-internal"><a id="_ismovementupdate" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>_is<wbr/>Movement<wbr/>Update</span><a href="foundry.documents.TokenDocument.html#_ismovementupdate" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-internal"><li class="tsd-is-internal"><div class="tsd-signature tsd-anchor-link"><a id="_ismovementupdate-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_isMovementUpdate</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">changes</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="foundry.documents.TokenDocument.html#_ismovementupdate-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Internal</code><div class="tsd-comment tsd-typography"><p>Are these changes moving the Token?</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">changes</span>: <span class="tsd-signature-type">object</span></span><div class="tsd-comment tsd-typography"><p>The (candidate) changes</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>Is movement?</p>
<div class="tsd-comment tsd-typography"></div></div></li><li class="tsd-is-internal"><div class="tsd-signature tsd-anchor-link"><a id="_ismovementupdate-2" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_isMovementUpdate</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">changes</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">origin</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.documents.types.TokenPosition.html" class="tsd-signature-type tsd-kind-interface">TokenPosition</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="foundry.documents.TokenDocument.html#_ismovementupdate-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Internal</code><div class="tsd-comment tsd-typography"><p>Are these changes moving the Token from the given origin?</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">changes</span>: <span class="tsd-signature-type">object</span></span><div class="tsd-comment tsd-typography"><p>The (candidate) changes</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">origin</span>: <a href="../interfaces/foundry.documents.types.TokenPosition.html" class="tsd-signature-type tsd-kind-interface">TokenPosition</a></span><div class="tsd-comment tsd-typography"><p>The origin</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>Is movement?</p>
<div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited tsd-is-internal"><a id="_logdatafieldmigration" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>_log<wbr/>Data<wbr/>Field<wbr/>Migration</span><a href="foundry.documents.TokenDocument.html#_logdatafieldmigration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited tsd-is-internal"><li class="tsd-is-inherited tsd-is-internal"><div class="tsd-signature tsd-anchor-link"><a id="_logdatafieldmigration-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_logDataFieldMigration</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">oldKey</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">newKey</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#_logdatafieldmigration-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Internal</code><div class="tsd-comment tsd-typography"><p>Log a compatbility warning for the data field migration.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">oldKey</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The old field name</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">newKey</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The new field name</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Options passed to <a href="../functions/foundry.utils.logCompatibilityWarning.html" class="tsd-kind-function">foundry.utils.logCompatibilityWarning</a></p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_logdatafieldmigration">_logDataFieldMigration</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="_oncreateoperation" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>_on<wbr/>Create<wbr/>Operation</span><a href="foundry.documents.TokenDocument.html#_oncreateoperation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="_oncreateoperation-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_onCreateOperation</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">documents</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">operation</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">user</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#_oncreateoperation-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">documents</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">operation</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">user</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Overrides <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_oncreateoperation">_onCreateOperation</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="_ondeleteoperation" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>_on<wbr/>Delete<wbr/>Operation</span><a href="foundry.documents.TokenDocument.html#_ondeleteoperation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="_ondeleteoperation-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_onDeleteOperation</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">documents</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">operation</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">user</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#_ondeleteoperation-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">documents</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">operation</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">user</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Overrides <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_ondeleteoperation">_onDeleteOperation</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="_onupdateoperation" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>_on<wbr/>Update<wbr/>Operation</span><a href="foundry.documents.TokenDocument.html#_onupdateoperation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="_onupdateoperation-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_onUpdateOperation</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">documents</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">operation</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">user</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#_onupdateoperation-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">documents</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">operation</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">user</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Overrides <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_onupdateoperation">_onUpdateOperation</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="_precreateoperation" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>_pre<wbr/>Create<wbr/>Operation</span><a href="foundry.documents.TokenDocument.html#_precreateoperation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="_precreateoperation-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_preCreateOperation</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">documents</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">operation</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">user</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">false</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#_precreateoperation-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Pre-process a creation operation, potentially altering its instructions or input data. Pre-operation events only
occur for the client which requested the operation.</p>
<p>This batch-wise workflow occurs after individual <a href="foundry.documents.TokenDocument.html#_precreate" class="tsd-kind-method">_preCreate</a> workflows and provides a final pre-flight check
before a database operation occurs.</p>
<p>Modifications to pending documents must mutate the documents array or alter individual document instances using
<a href="foundry.documents.TokenDocument.html#updatesource" class="tsd-kind-method">updateSource</a>.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">documents</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>Pending document instances to be created</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">operation</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>Parameters of the database creation operation</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">user</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>The User requesting the creation operation</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">false</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Return false to cancel the creation operation entirely</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Overrides <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_precreateoperation">_preCreateOperation</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="_preupdateoperation" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>_pre<wbr/>Update<wbr/>Operation</span><a href="foundry.documents.TokenDocument.html#_preupdateoperation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="_preupdateoperation-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_preUpdateOperation</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">documents</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">operation</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">user</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">false</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#_preupdateoperation-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Pre-process an update operation, potentially altering its instructions or input data. Pre-operation events only
occur for the client which requested the operation.</p>
<p>This batch-wise workflow occurs after individual <a href="foundry.documents.TokenDocument.html#_preupdate" class="tsd-kind-method">_preUpdate</a> workflows and provides a final pre-flight check
before a database operation occurs.</p>
<p>Modifications to the requested updates are performed by mutating the data array of the operation.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">documents</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>Document instances to be updated</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">operation</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>Parameters of the database update operation</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">user</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>The User requesting the update operation</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">false</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Return false to cancel the update operation entirely</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Overrides <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_preupdateoperation">_preUpdateOperation</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="arepositionsequal" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>are<wbr/>Positions<wbr/>Equal</span><a href="foundry.documents.TokenDocument.html#arepositionsequal" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="arepositionsequal-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">arePositionsEqual</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">position1</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.documents.types.TokenPosition.html" class="tsd-signature-type tsd-kind-interface">TokenPosition</a><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">position2</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.documents.types.TokenPosition.html" class="tsd-signature-type tsd-kind-interface">TokenPosition</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="foundry.documents.TokenDocument.html#arepositionsequal-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Are the given positions equal?</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">position1</span>: <a href="../interfaces/foundry.documents.types.TokenPosition.html" class="tsd-signature-type tsd-kind-interface">TokenPosition</a></span><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">position2</span>: <a href="../interfaces/foundry.documents.types.TokenPosition.html" class="tsd-signature-type tsd-kind-interface">TokenPosition</a></span><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#arepositionsequal">arePositionsEqual</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="canusercreate" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>can<wbr/>User<wbr/>Create</span><a href="foundry.documents.TokenDocument.html#canusercreate" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="canusercreate-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">canUserCreate</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">user</span><span class="tsd-signature-symbol">:</span> <a href="foundry.documents.BaseUser.html" class="tsd-signature-type tsd-kind-class">BaseUser</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="foundry.documents.TokenDocument.html#canusercreate-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Test whether a given User has sufficient permissions to create Documents of this type in general. This does not
guarantee that the User is able to create all Documents of this type, as certain document-specific requirements
may also be present.</p>
<p>Generally speaking, this method is used to verify whether a User should be presented with the option to create
Documents of this type in the UI.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">user</span>: <a href="foundry.documents.BaseUser.html" class="tsd-signature-type tsd-kind-class">BaseUser</a></span><div class="tsd-comment tsd-typography"><p>The User being tested</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>Does the User have a sufficient role to create?</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#canusercreate">canUserCreate</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="cleandata" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>clean<wbr/>Data</span><a href="foundry.documents.TokenDocument.html#cleandata" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="cleandata-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">cleanData</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">source</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><a href="foundry.documents.TokenDocument.html#cleandata-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Clean a data source object to conform to a specific provided schema.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">source</span>: <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>The source data object</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Additional options which are passed to field cleaning methods</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">object</span></h4><p>The cleaned source data, which is the same object as the <code>source</code> argument</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#cleandata">cleanData</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="create" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>create</span><a href="foundry.documents.TokenDocument.html#create" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="create-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">create</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">?:</span><br/>        <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">object</span><br/>        <span class="tsd-signature-symbol">|</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><br/>        <span class="tsd-signature-symbol">|</span> (<span class="tsd-signature-type">object</span> <span class="tsd-signature-symbol">|</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span>)<span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">operation</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseCreateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseCreateOperation</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;data&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><br/>    <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">undefined</span><br/>    <span class="tsd-signature-symbol">|</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><br/>    <span class="tsd-signature-symbol">|</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#create-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Create a new Document using provided input data, saving it to the database.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">data</span>: <br/>    <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">object</span><br/>    <span class="tsd-signature-symbol">|</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><br/>    <span class="tsd-signature-symbol">|</span> (<span class="tsd-signature-type">object</span> <span class="tsd-signature-symbol">|</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span>)<span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Initial data used to create this Document, or a Document
instance to persist.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">operation</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseCreateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseCreateOperation</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;data&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Parameters of the creation operation</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><br/>    <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">undefined</span><br/>    <span class="tsd-signature-symbol">|</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><br/>    <span class="tsd-signature-symbol">|</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">&gt;</span></h4><p>The created Document instance(s)</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-see"><h4 class="tsd-anchor-link"><a id="see-6" class="tsd-anchor"></a>See<a href="foundry.documents.TokenDocument.html#see-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><a href="foundry.abstract.Document.html#createdocuments" class="tsd-kind-method">Document.createDocuments</a></p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-create-a-world-level-item" class="tsd-anchor"></a>Example: Create a World-level Item<a href="foundry.documents.TokenDocument.html#example-create-a-world-level-item" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">data</span><span class="hl-3"> = [{</span><span class="hl-2">name:</span><span class="hl-3"> </span><span class="hl-6">&quot;Special Sword&quot;</span><span class="hl-3">, </span><span class="hl-2">type:</span><span class="hl-3"> </span><span class="hl-6">&quot;weapon&quot;</span><span class="hl-3">}];</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">created</span><span class="hl-3"> = </span><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-2">Item</span><span class="hl-3">.</span><span class="hl-2">implementation</span><span class="hl-3">.</span><span class="hl-4">create</span><span class="hl-3">(</span><span class="hl-2">data</span><span class="hl-3">);</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-create-an-actor-owned-item" class="tsd-anchor"></a>Example: Create an Actor-owned Item<a href="foundry.documents.TokenDocument.html#example-create-an-actor-owned-item" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">data</span><span class="hl-3"> = [{</span><span class="hl-2">name:</span><span class="hl-3"> </span><span class="hl-6">&quot;Special Sword&quot;</span><span class="hl-3">, </span><span class="hl-2">type:</span><span class="hl-3"> </span><span class="hl-6">&quot;weapon&quot;</span><span class="hl-3">}];</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">actor</span><span class="hl-3"> = </span><span class="hl-2">game</span><span class="hl-3">.</span><span class="hl-2">actors</span><span class="hl-3">.</span><span class="hl-4">getName</span><span class="hl-3">(</span><span class="hl-6">&quot;My Hero&quot;</span><span class="hl-3">);</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">created</span><span class="hl-3"> = </span><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-2">Item</span><span class="hl-3">.</span><span class="hl-2">implementation</span><span class="hl-3">.</span><span class="hl-4">create</span><span class="hl-3">(</span><span class="hl-2">data</span><span class="hl-3">, {</span><span class="hl-2">parent:</span><span class="hl-3"> </span><span class="hl-2">actor</span><span class="hl-3">});</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-create-an-item-in-a-compendium-pack" class="tsd-anchor"></a>Example: Create an Item in a Compendium pack<a href="foundry.documents.TokenDocument.html#example-create-an-item-in-a-compendium-pack" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">data</span><span class="hl-3"> = [{</span><span class="hl-2">name:</span><span class="hl-3"> </span><span class="hl-6">&quot;Special Sword&quot;</span><span class="hl-3">, </span><span class="hl-2">type:</span><span class="hl-3"> </span><span class="hl-6">&quot;weapon&quot;</span><span class="hl-3">}];</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">created</span><span class="hl-3"> = </span><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-2">Item</span><span class="hl-3">.</span><span class="hl-2">implementation</span><span class="hl-3">.</span><span class="hl-4">create</span><span class="hl-3">(</span><span class="hl-2">data</span><span class="hl-3">, {</span><span class="hl-2">pack:</span><span class="hl-3"> </span><span class="hl-6">&quot;mymodule.mypack&quot;</span><span class="hl-3">});</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#create">create</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="createcombatants" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>create<wbr/>Combatants</span><a href="foundry.documents.TokenDocument.html#createcombatants" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="createcombatants-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">createCombatants</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">tokens</span><span class="tsd-signature-symbol">:</span> <a href="foundry.documents.TokenDocument.html" class="tsd-signature-type tsd-kind-class">TokenDocument</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">combat</span><span class="tsd-signature-symbol">?:</span> <a href="../modules/foundry.documents.html" class="tsd-signature-type tsd-kind-namespace">documents</a><span class="tsd-signature-symbol">.</span><a href="foundry.documents.Combat.html" class="tsd-signature-type tsd-kind-class">Combat</a> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../modules/foundry.documents.html" class="tsd-signature-type tsd-kind-namespace">documents</a><span class="tsd-signature-symbol">.</span><a href="foundry.documents.Combatant.html" class="tsd-signature-type tsd-kind-class">Combatant</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#createcombatants-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Create or remove Combatants for an array of provided Token objects.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">tokens</span>: <a href="foundry.documents.TokenDocument.html" class="tsd-signature-type tsd-kind-class">TokenDocument</a><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>The tokens which should be added to the Combat</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">combat</span><span class="tsd-signature-symbol">?:</span> <a href="../modules/foundry.documents.html" class="tsd-signature-type tsd-kind-namespace">documents</a><span class="tsd-signature-symbol">.</span><a href="foundry.documents.Combat.html" class="tsd-signature-type tsd-kind-class">Combat</a> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Options which modify the toggle operation</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">combat</span><span class="tsd-signature-symbol">?: </span><a href="../modules/foundry.documents.html" class="tsd-signature-type tsd-kind-namespace">documents</a><span class="tsd-signature-symbol">.</span><a href="foundry.documents.Combat.html" class="tsd-signature-type tsd-kind-class">Combat</a></h5><div class="tsd-comment tsd-typography"><p>A specific Combat instance which should be modified. If undefined, the
current active combat will be modified if one exists. Otherwise, a new
Combat encounter will be created if the requesting user is a Gamemaster.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../modules/foundry.documents.html" class="tsd-signature-type tsd-kind-namespace">documents</a><span class="tsd-signature-symbol">.</span><a href="foundry.documents.Combatant.html" class="tsd-signature-type tsd-kind-class">Combatant</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>An array of created Combatant documents</p>
<div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="createdocuments" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>create<wbr/>Documents</span><a href="foundry.documents.TokenDocument.html#createdocuments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="createdocuments-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">createDocuments</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">?:</span> (<span class="tsd-signature-type">object</span> <span class="tsd-signature-symbol">|</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span>)<span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">operation</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseCreateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseCreateOperation</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;data&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#createdocuments-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Create multiple Documents using provided input data.
Data is provided as an array of objects where each individual object becomes one new Document.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">data</span>: (<span class="tsd-signature-type">object</span> <span class="tsd-signature-symbol">|</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span>)<span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> = []</span></span><div class="tsd-comment tsd-typography"><p>An array of data objects or existing Documents to persist.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">operation</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseCreateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseCreateOperation</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;data&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Parameters of the requested creation
operation</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>An array of created Document instances</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-create-a-single-document" class="tsd-anchor"></a>Example: Create a single Document<a href="foundry.documents.TokenDocument.html#example-create-a-single-document" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">data</span><span class="hl-3"> = [{</span><span class="hl-2">name:</span><span class="hl-3"> </span><span class="hl-6">&quot;New Actor&quot;</span><span class="hl-3">, </span><span class="hl-2">type:</span><span class="hl-3"> </span><span class="hl-6">&quot;character&quot;</span><span class="hl-3">, </span><span class="hl-2">img:</span><span class="hl-3"> </span><span class="hl-6">&quot;path/to/profile.jpg&quot;</span><span class="hl-3">}];</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">created</span><span class="hl-3"> = </span><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-2">Actor</span><span class="hl-3">.</span><span class="hl-2">implementation</span><span class="hl-3">.</span><span class="hl-4">createDocuments</span><span class="hl-3">(</span><span class="hl-2">data</span><span class="hl-3">);</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-create-multiple-documents" class="tsd-anchor"></a>Example: Create multiple Documents<a href="foundry.documents.TokenDocument.html#example-create-multiple-documents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">data</span><span class="hl-3"> = [{</span><span class="hl-2">name:</span><span class="hl-3"> </span><span class="hl-6">&quot;Tim&quot;</span><span class="hl-3">, </span><span class="hl-2">type:</span><span class="hl-3"> </span><span class="hl-6">&quot;npc&quot;</span><span class="hl-3">], </span><span class="hl-2">[{name: </span><span class="hl-6">&quot;Tom&quot;</span><span class="hl-2">, type: </span><span class="hl-6">&quot;npc&quot;</span><span class="hl-2">}];</span><br/><span class="hl-2">const created = await Actor.implementation.createDocuments(data);</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-create-multiple-embedded-documents-within-a-parent" class="tsd-anchor"></a>Example: Create multiple embedded Documents within a parent<a href="foundry.documents.TokenDocument.html#example-create-multiple-embedded-documents-within-a-parent" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">actor</span><span class="hl-3"> = </span><span class="hl-2">game</span><span class="hl-3">.</span><span class="hl-2">actors</span><span class="hl-3">.</span><span class="hl-4">getName</span><span class="hl-3">(</span><span class="hl-6">&quot;Tim&quot;</span><span class="hl-3">);</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">data</span><span class="hl-3"> = [{</span><span class="hl-2">name:</span><span class="hl-3"> </span><span class="hl-6">&quot;Sword&quot;</span><span class="hl-3">, </span><span class="hl-2">type:</span><span class="hl-3"> </span><span class="hl-6">&quot;weapon&quot;</span><span class="hl-3">}, {</span><span class="hl-2">name:</span><span class="hl-3"> </span><span class="hl-6">&quot;Breastplate&quot;</span><span class="hl-3">, </span><span class="hl-2">type:</span><span class="hl-3"> </span><span class="hl-6">&quot;equipment&quot;</span><span class="hl-3">}];</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">created</span><span class="hl-3"> = </span><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-2">Item</span><span class="hl-3">.</span><span class="hl-2">implementation</span><span class="hl-3">.</span><span class="hl-4">createDocuments</span><span class="hl-3">(</span><span class="hl-2">data</span><span class="hl-3">, {</span><span class="hl-2">parent:</span><span class="hl-3"> </span><span class="hl-2">actor</span><span class="hl-3">});</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-create-a-document-within-a-compendium-pack" class="tsd-anchor"></a>Example: Create a Document within a Compendium pack<a href="foundry.documents.TokenDocument.html#example-create-a-document-within-a-compendium-pack" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">data</span><span class="hl-3"> = [{</span><span class="hl-2">name:</span><span class="hl-3"> </span><span class="hl-6">&quot;Compendium Actor&quot;</span><span class="hl-3">, </span><span class="hl-2">type:</span><span class="hl-3"> </span><span class="hl-6">&quot;character&quot;</span><span class="hl-3">, </span><span class="hl-2">img:</span><span class="hl-3"> </span><span class="hl-6">&quot;path/to/profile.jpg&quot;</span><span class="hl-3">}];</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">created</span><span class="hl-3"> = </span><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-2">Actor</span><span class="hl-3">.</span><span class="hl-2">implementation</span><span class="hl-3">.</span><span class="hl-4">createDocuments</span><span class="hl-3">(</span><span class="hl-2">data</span><span class="hl-3">, {</span><span class="hl-2">pack:</span><span class="hl-3"> </span><span class="hl-6">&quot;mymodule.mypack&quot;</span><span class="hl-3">});</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#createdocuments">createDocuments</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="defineschema" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>define<wbr/>Schema</span><a href="foundry.documents.TokenDocument.html#defineschema" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="defineschema-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">defineSchema</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{</span><br/>    <span class="tsd-kind-property">_id</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.DocumentIdField.html" class="tsd-signature-type tsd-kind-class">DocumentIdField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">_movementHistory</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.ArrayField.html" class="tsd-signature-type tsd-kind-class">ArrayField</a><span class="tsd-signature-symbol">&lt;</span><a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">_regions</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.ArrayField.html" class="tsd-signature-type tsd-kind-class">ArrayField</a><span class="tsd-signature-symbol">&lt;</span><a href="foundry.data.fields.ForeignDocumentField.html" class="tsd-signature-type tsd-kind-class">ForeignDocumentField</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">actorId</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.ForeignDocumentField.html" class="tsd-signature-type tsd-kind-class">ForeignDocumentField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">actorLink</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.BooleanField.html" class="tsd-signature-type tsd-kind-class">BooleanField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">alpha</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.AlphaField.html" class="tsd-signature-type tsd-kind-class">AlphaField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">bar1</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">bar2</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">delta</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.ActorDeltaField.html" class="tsd-signature-type tsd-kind-class">ActorDeltaField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">detectionModes</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.ArrayField.html" class="tsd-signature-type tsd-kind-class">ArrayField</a><span class="tsd-signature-symbol">&lt;</span><a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">displayBars</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.NumberField.html" class="tsd-signature-type tsd-kind-class">NumberField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">displayName</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.NumberField.html" class="tsd-signature-type tsd-kind-class">NumberField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">disposition</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.NumberField.html" class="tsd-signature-type tsd-kind-class">NumberField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">elevation</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.NumberField.html" class="tsd-signature-type tsd-kind-class">NumberField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">flags</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.DocumentFlagsField.html" class="tsd-signature-type tsd-kind-class">DocumentFlagsField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">height</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.NumberField.html" class="tsd-signature-type tsd-kind-class">NumberField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">hidden</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.BooleanField.html" class="tsd-signature-type tsd-kind-class">BooleanField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">light</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.EmbeddedDataField.html" class="tsd-signature-type tsd-kind-class">EmbeddedDataField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">locked</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.BooleanField.html" class="tsd-signature-type tsd-kind-class">BooleanField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">lockRotation</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.BooleanField.html" class="tsd-signature-type tsd-kind-class">BooleanField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">movementAction</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.StringField.html" class="tsd-signature-type tsd-kind-class">StringField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">name</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.StringField.html" class="tsd-signature-type tsd-kind-class">StringField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">occludable</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">ring</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">rotation</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.AngleField.html" class="tsd-signature-type tsd-kind-class">AngleField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">shape</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.NumberField.html" class="tsd-signature-type tsd-kind-class">NumberField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">sight</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">sort</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.NumberField.html" class="tsd-signature-type tsd-kind-class">NumberField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">texture</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.TextureData.html" class="tsd-signature-type tsd-kind-class">TextureData</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">turnMarker</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">width</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.NumberField.html" class="tsd-signature-type tsd-kind-class">NumberField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">x</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.NumberField.html" class="tsd-signature-type tsd-kind-class">NumberField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">y</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.NumberField.html" class="tsd-signature-type tsd-kind-class">NumberField</a><span class="tsd-signature-symbol">;</span><br/><span class="tsd-signature-symbol">}</span><a href="foundry.documents.TokenDocument.html#defineschema-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Define the data schema for models of this type.
The schema is populated the first time it is accessed and cached for future reuse.</p>
<p>The schema, through its fields, provide the essential cleaning, validation, and initialization methods to turn the
<a href="foundry.documents.TokenDocument.html#_source" class="tsd-kind-property">_source</a> values into direct properties of the data model. The schema is a static property of the model and
is reused by all instances to perform validation.</p>
<p>The schemas defined by the core software in classes like <a href="foundry.documents.BaseActor.html" class="tsd-kind-class">foundry.documents.BaseActor</a> are validated by the
server, where user code does not run. However, almost all documents have a <code>flags</code> field to store data, and many
have a <code>system</code> field that can be configured to be a <a href="foundry.abstract.TypeDataModel.html" class="tsd-kind-class">foundry.abstract.TypeDataModel</a> instance. Those models
are <em>not</em> constructed on the server and rely purely on client-side code, which means certain extra-sensitive fields
must be also be registered through your package manifest. <a href="../interfaces/foundry.packages.types.ServerSanitizationFields.html" class="tsd-kind-interface">foundry.packages.types.ServerSanitizationFields</a></p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">{</span><br/>    <span class="tsd-kind-property">_id</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.DocumentIdField.html" class="tsd-signature-type tsd-kind-class">DocumentIdField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">_movementHistory</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.ArrayField.html" class="tsd-signature-type tsd-kind-class">ArrayField</a><span class="tsd-signature-symbol">&lt;</span><a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">_regions</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.ArrayField.html" class="tsd-signature-type tsd-kind-class">ArrayField</a><span class="tsd-signature-symbol">&lt;</span><a href="foundry.data.fields.ForeignDocumentField.html" class="tsd-signature-type tsd-kind-class">ForeignDocumentField</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">actorId</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.ForeignDocumentField.html" class="tsd-signature-type tsd-kind-class">ForeignDocumentField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">actorLink</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.BooleanField.html" class="tsd-signature-type tsd-kind-class">BooleanField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">alpha</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.AlphaField.html" class="tsd-signature-type tsd-kind-class">AlphaField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">bar1</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">bar2</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">delta</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.ActorDeltaField.html" class="tsd-signature-type tsd-kind-class">ActorDeltaField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">detectionModes</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.ArrayField.html" class="tsd-signature-type tsd-kind-class">ArrayField</a><span class="tsd-signature-symbol">&lt;</span><a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">displayBars</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.NumberField.html" class="tsd-signature-type tsd-kind-class">NumberField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">displayName</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.NumberField.html" class="tsd-signature-type tsd-kind-class">NumberField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">disposition</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.NumberField.html" class="tsd-signature-type tsd-kind-class">NumberField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">elevation</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.NumberField.html" class="tsd-signature-type tsd-kind-class">NumberField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">flags</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.DocumentFlagsField.html" class="tsd-signature-type tsd-kind-class">DocumentFlagsField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">height</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.NumberField.html" class="tsd-signature-type tsd-kind-class">NumberField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">hidden</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.BooleanField.html" class="tsd-signature-type tsd-kind-class">BooleanField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">light</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.EmbeddedDataField.html" class="tsd-signature-type tsd-kind-class">EmbeddedDataField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">locked</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.BooleanField.html" class="tsd-signature-type tsd-kind-class">BooleanField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">lockRotation</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.BooleanField.html" class="tsd-signature-type tsd-kind-class">BooleanField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">movementAction</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.StringField.html" class="tsd-signature-type tsd-kind-class">StringField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">name</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.StringField.html" class="tsd-signature-type tsd-kind-class">StringField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">occludable</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">ring</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">rotation</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.AngleField.html" class="tsd-signature-type tsd-kind-class">AngleField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">shape</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.NumberField.html" class="tsd-signature-type tsd-kind-class">NumberField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">sight</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">sort</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.NumberField.html" class="tsd-signature-type tsd-kind-class">NumberField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">texture</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.TextureData.html" class="tsd-signature-type tsd-kind-class">TextureData</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">turnMarker</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">width</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.NumberField.html" class="tsd-signature-type tsd-kind-class">NumberField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">x</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.NumberField.html" class="tsd-signature-type tsd-kind-class">NumberField</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">y</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.NumberField.html" class="tsd-signature-type tsd-kind-class">NumberField</a><span class="tsd-signature-symbol">;</span><br/><span class="tsd-signature-symbol">}</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-2" class="tsd-anchor"></a>Example<a href="foundry.documents.TokenDocument.html#example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-1">class</span><span class="hl-3"> </span><span class="hl-8">SomeModel</span><span class="hl-3"> </span><span class="hl-1">extends</span><span class="hl-3"> </span><span class="hl-8">foundry</span><span class="hl-3">.</span><span class="hl-8">abstract</span><span class="hl-3">.</span><span class="hl-8">DataModel</span><span class="hl-3"> {</span><br/><span class="hl-3">  </span><span class="hl-1">static</span><span class="hl-3"> </span><span class="hl-4">defineSchema</span><span class="hl-3">() {</span><br/><span class="hl-3">    </span><span class="hl-9">return</span><span class="hl-3"> {</span><br/><span class="hl-3">      </span><span class="hl-2">foo:</span><span class="hl-3"> </span><span class="hl-1">new</span><span class="hl-3"> </span><span class="hl-2">foundry</span><span class="hl-3">.</span><span class="hl-2">data</span><span class="hl-3">.</span><span class="hl-2">fields</span><span class="hl-3">.</span><span class="hl-4">StringField</span><span class="hl-3">()</span><br/><span class="hl-3">    }</span><br/><span class="hl-3">  }</span><br/><span class="hl-3">}</span><br/><br/><span class="hl-1">class</span><span class="hl-3"> </span><span class="hl-8">AnotherModel</span><span class="hl-3"> </span><span class="hl-1">extends</span><span class="hl-3"> </span><span class="hl-8">SomeModel</span><span class="hl-3"> {</span><br/><span class="hl-3">  </span><span class="hl-1">static</span><span class="hl-3"> </span><span class="hl-4">defineSchema</span><span class="hl-3">() {</span><br/><span class="hl-3">    </span><span class="hl-0">// Inheritance and object oriented principles apply to schema definition</span><br/><span class="hl-3">    </span><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">schema</span><span class="hl-3"> = </span><span class="hl-1">super</span><span class="hl-3">.</span><span class="hl-4">defineSchema</span><span class="hl-3">()</span><br/><br/><span class="hl-3">    </span><span class="hl-2">schema</span><span class="hl-3">.</span><span class="hl-2">bar</span><span class="hl-3"> = </span><span class="hl-1">new</span><span class="hl-3"> </span><span class="hl-2">foundry</span><span class="hl-3">.</span><span class="hl-2">data</span><span class="hl-3">.</span><span class="hl-2">fields</span><span class="hl-3">.</span><span class="hl-4">NumberField</span><span class="hl-3">()</span><br/><br/><span class="hl-3">    </span><span class="hl-9">return</span><span class="hl-3"> </span><span class="hl-2">schema</span><span class="hl-3">;</span><br/><span class="hl-3">  }</span><br/><span class="hl-3">}</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#defineschema">defineSchema</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="deletecombatants" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>delete<wbr/>Combatants</span><a href="foundry.documents.TokenDocument.html#deletecombatants" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="deletecombatants-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">deleteCombatants</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">tokens</span><span class="tsd-signature-symbol">:</span> <a href="foundry.documents.TokenDocument.html" class="tsd-signature-type tsd-kind-class">TokenDocument</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">combat</span><span class="tsd-signature-symbol">?:</span> <a href="../modules/foundry.documents.html" class="tsd-signature-type tsd-kind-namespace">documents</a><span class="tsd-signature-symbol">.</span><a href="foundry.documents.Combat.html" class="tsd-signature-type tsd-kind-class">Combat</a> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../modules/foundry.documents.html" class="tsd-signature-type tsd-kind-namespace">documents</a><span class="tsd-signature-symbol">.</span><a href="foundry.documents.Combatant.html" class="tsd-signature-type tsd-kind-class">Combatant</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#deletecombatants-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Remove Combatants for the array of provided Tokens.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">tokens</span>: <a href="foundry.documents.TokenDocument.html" class="tsd-signature-type tsd-kind-class">TokenDocument</a><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>The tokens which should removed from the Combat</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">combat</span><span class="tsd-signature-symbol">?:</span> <a href="../modules/foundry.documents.html" class="tsd-signature-type tsd-kind-namespace">documents</a><span class="tsd-signature-symbol">.</span><a href="foundry.documents.Combat.html" class="tsd-signature-type tsd-kind-class">Combat</a> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Options which modify the operation</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">combat</span><span class="tsd-signature-symbol">?: </span><a href="../modules/foundry.documents.html" class="tsd-signature-type tsd-kind-namespace">documents</a><span class="tsd-signature-symbol">.</span><a href="foundry.documents.Combat.html" class="tsd-signature-type tsd-kind-class">Combat</a></h5><div class="tsd-comment tsd-typography"><p>A specific Combat instance from which Combatants should be deleted</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../modules/foundry.documents.html" class="tsd-signature-type tsd-kind-namespace">documents</a><span class="tsd-signature-symbol">.</span><a href="foundry.documents.Combatant.html" class="tsd-signature-type tsd-kind-class">Combatant</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>An array of deleted Combatant documents</p>
<div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="deletedocuments" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>delete<wbr/>Documents</span><a href="foundry.documents.TokenDocument.html#deletedocuments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="deletedocuments-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">deleteDocuments</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">ids</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">operation</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseDeleteOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseDeleteOperation</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;ids&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#deletedocuments-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Delete one or multiple existing Documents using an array of provided ids.
Data is provided as an array of string ids for the documents to delete.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">ids</span>: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> = []</span></span><div class="tsd-comment tsd-typography"><p>An array of string ids for the documents to be deleted</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">operation</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseDeleteOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseDeleteOperation</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;ids&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Parameters of the database deletion
operation</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>An array of deleted Document instances</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-delete-a-single-document" class="tsd-anchor"></a>Example: Delete a single Document<a href="foundry.documents.TokenDocument.html#example-delete-a-single-document" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">tim</span><span class="hl-3"> = </span><span class="hl-2">game</span><span class="hl-3">.</span><span class="hl-2">actors</span><span class="hl-3">.</span><span class="hl-4">getName</span><span class="hl-3">(</span><span class="hl-6">&quot;Tim&quot;</span><span class="hl-3">);</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">deleted</span><span class="hl-3"> = </span><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-2">Actor</span><span class="hl-3">.</span><span class="hl-2">implementation</span><span class="hl-3">.</span><span class="hl-4">deleteDocuments</span><span class="hl-3">([</span><span class="hl-2">tim</span><span class="hl-3">.</span><span class="hl-2">id</span><span class="hl-3">]);</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-delete-multiple-documents" class="tsd-anchor"></a>Example: Delete multiple Documents<a href="foundry.documents.TokenDocument.html#example-delete-multiple-documents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">tim</span><span class="hl-3"> = </span><span class="hl-2">game</span><span class="hl-3">.</span><span class="hl-2">actors</span><span class="hl-3">.</span><span class="hl-4">getName</span><span class="hl-3">(</span><span class="hl-6">&quot;Tim&quot;</span><span class="hl-3">);</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">tom</span><span class="hl-3"> = </span><span class="hl-2">game</span><span class="hl-3">.</span><span class="hl-2">actors</span><span class="hl-3">.</span><span class="hl-4">getName</span><span class="hl-3">(</span><span class="hl-6">&quot;Tom&quot;</span><span class="hl-3">);</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">deleted</span><span class="hl-3"> = </span><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-2">Actor</span><span class="hl-3">.</span><span class="hl-2">implementation</span><span class="hl-3">.</span><span class="hl-4">deleteDocuments</span><span class="hl-3">([</span><span class="hl-2">tim</span><span class="hl-3">.</span><span class="hl-2">id</span><span class="hl-3">, </span><span class="hl-2">tom</span><span class="hl-3">.</span><span class="hl-2">id</span><span class="hl-3">]);</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-delete-multiple-embedded-documents-within-a-parent" class="tsd-anchor"></a>Example: Delete multiple embedded Documents within a parent<a href="foundry.documents.TokenDocument.html#example-delete-multiple-embedded-documents-within-a-parent" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">tim</span><span class="hl-3"> = </span><span class="hl-2">game</span><span class="hl-3">.</span><span class="hl-2">actors</span><span class="hl-3">.</span><span class="hl-4">getName</span><span class="hl-3">(</span><span class="hl-6">&quot;Tim&quot;</span><span class="hl-3">);</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">sword</span><span class="hl-3"> = </span><span class="hl-2">tim</span><span class="hl-3">.</span><span class="hl-2">items</span><span class="hl-3">.</span><span class="hl-4">getName</span><span class="hl-3">(</span><span class="hl-6">&quot;Sword&quot;</span><span class="hl-3">);</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">shield</span><span class="hl-3"> = </span><span class="hl-2">tim</span><span class="hl-3">.</span><span class="hl-2">items</span><span class="hl-3">.</span><span class="hl-4">getName</span><span class="hl-3">(</span><span class="hl-6">&quot;Shield&quot;</span><span class="hl-3">);</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">deleted</span><span class="hl-3"> = </span><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-2">Item</span><span class="hl-3">.</span><span class="hl-2">implementation</span><span class="hl-3">.</span><span class="hl-4">deleteDocuments</span><span class="hl-3">([</span><span class="hl-2">sword</span><span class="hl-3">.</span><span class="hl-2">id</span><span class="hl-3">, </span><span class="hl-2">shield</span><span class="hl-3">.</span><span class="hl-2">id</span><span class="hl-3">], </span><span class="hl-2">parent</span><span class="hl-3">: </span><span class="hl-2">actor</span><span class="hl-3">});</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-delete-documents-within-a-compendium-pack" class="tsd-anchor"></a>Example: Delete Documents within a Compendium pack<a href="foundry.documents.TokenDocument.html#example-delete-documents-within-a-compendium-pack" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">actor</span><span class="hl-3"> = </span><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-2">pack</span><span class="hl-3">.</span><span class="hl-4">getDocument</span><span class="hl-3">(</span><span class="hl-2">documentId</span><span class="hl-3">);</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">deleted</span><span class="hl-3"> = </span><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-2">Actor</span><span class="hl-3">.</span><span class="hl-2">implementation</span><span class="hl-3">.</span><span class="hl-4">deleteDocuments</span><span class="hl-3">([</span><span class="hl-2">actor</span><span class="hl-3">.</span><span class="hl-2">id</span><span class="hl-3">], {</span><span class="hl-2">pack:</span><span class="hl-3"> </span><span class="hl-6">&quot;mymodule.mypack&quot;</span><span class="hl-3">});</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#deletedocuments">deleteDocuments</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="fromjson" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>fromJSON</span><a href="foundry.documents.TokenDocument.html#fromjson" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="fromjson-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">fromJSON</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">json</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="foundry.abstract.DataModel.html" class="tsd-signature-type tsd-kind-class">DataModel</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DataModelConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DataModelConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#fromjson-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Create a DataModel instance using a provided serialized JSON string.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">json</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Serialized document data in string format</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="foundry.abstract.DataModel.html" class="tsd-signature-type tsd-kind-class">DataModel</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DataModelConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DataModelConstructionContext</a><span class="tsd-signature-symbol">&gt;</span></h4><p>A constructed data model instance</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#fromjson">fromJSON</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="fromsource" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>from<wbr/>Source</span><a href="foundry.documents.TokenDocument.html#fromsource" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="fromsource-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">fromSource</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">source</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/foundry.abstract.types.DataModelConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DataModelConstructionContext</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;strict&quot;</span><span class="tsd-signature-symbol">&gt;</span> <span class="tsd-signature-symbol">&amp;</span> <a href="../interfaces/foundry.abstract.types.DataModelFromSourceOptions.html" class="tsd-signature-type tsd-kind-interface">DataModelFromSourceOptions</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="foundry.abstract.DataModel.html" class="tsd-signature-type tsd-kind-class">DataModel</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DataModelConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DataModelConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#fromsource-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Create a new instance of this DataModel from a source record.
The source is presumed to be trustworthy and is not strictly validated.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">source</span>: <span class="tsd-signature-type">object</span></span><div class="tsd-comment tsd-typography"><p>Initial document data which comes from a trusted source.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">context</span>: <span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/foundry.abstract.types.DataModelConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DataModelConstructionContext</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;strict&quot;</span><span class="tsd-signature-symbol">&gt;</span> <span class="tsd-signature-symbol">&amp;</span> <a href="../interfaces/foundry.abstract.types.DataModelFromSourceOptions.html" class="tsd-signature-type tsd-kind-interface">DataModelFromSourceOptions</a><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Model construction context</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="foundry.abstract.DataModel.html" class="tsd-signature-type tsd-kind-class">DataModel</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DataModelConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DataModelConstructionContext</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#fromsource">fromSource</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="get" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>get</span><a href="foundry.documents.TokenDocument.html#get" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="get-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">documentId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">operation</span><span class="tsd-signature-symbol">?:</span> <a href="../interfaces/foundry.abstract.types.DatabaseGetOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseGetOperation</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#get-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get a World-level Document of this type by its id.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">documentId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The Document ID</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">operation</span>: <a href="../interfaces/foundry.abstract.types.DatabaseGetOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseGetOperation</a><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Parameters of the get operation</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span></h4><p>The retrieved Document, or null</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#get">get</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="getcollectionname" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>get<wbr/>Collection<wbr/>Name</span><a href="foundry.documents.TokenDocument.html#getcollectionname" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="getcollectionname-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getCollectionName</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">string</span><a href="foundry.documents.TokenDocument.html#getcollectionname-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>A compatibility method that returns the appropriate name of an embedded collection within this Document.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">name</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>An existing collection name or a document name.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">string</span></h4><p>The provided collection name if it exists, the first available collection for the
document name provided, or null if no appropriate embedded collection could be found.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-passing-an-existing-collection-name" class="tsd-anchor"></a>Example: Passing an existing collection name.<a href="foundry.documents.TokenDocument.html#example-passing-an-existing-collection-name" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-2">Actor</span><span class="hl-3">.</span><span class="hl-2">implementation</span><span class="hl-3">.</span><span class="hl-4">getCollectionName</span><span class="hl-3">(</span><span class="hl-6">&quot;items&quot;</span><span class="hl-3">);</span><br/><span class="hl-0">// returns &quot;items&quot;</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-passing-a-document-name" class="tsd-anchor"></a>Example: Passing a document name.<a href="foundry.documents.TokenDocument.html#example-passing-a-document-name" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-2">Actor</span><span class="hl-3">.</span><span class="hl-2">implementation</span><span class="hl-3">.</span><span class="hl-4">getCollectionName</span><span class="hl-3">(</span><span class="hl-6">&quot;Item&quot;</span><span class="hl-3">);</span><br/><span class="hl-0">// returns &quot;items&quot;</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#getcollectionname">getCollectionName</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member"><a id="gettrackedattributechoices" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>get<wbr/>Tracked<wbr/>Attribute<wbr/>Choices</span><a href="foundry.documents.TokenDocument.html#gettrackedattributechoices" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="gettrackedattributechoices-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getTrackedAttributeChoices</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">attributes</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><a href="foundry.documents.TokenDocument.html#gettrackedattributechoices-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Inspect the Actor data model and identify the set of attributes which could be used for a Token Bar.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">attributes</span>: <span class="tsd-signature-type">object</span></span><div class="tsd-comment tsd-typography"><p>The tracked attributes which can be chosen from</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">object</span></h4><p>A nested object of attribute choices to display</p>
<div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member"><a id="gettrackedattributes" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>get<wbr/>Tracked<wbr/>Attributes</span><a href="foundry.documents.TokenDocument.html#gettrackedattributes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link"><a id="gettrackedattributes-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getTrackedAttributes</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">?:</span><br/>        <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">string</span><br/>        <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">object</span><br/>        <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-keyword">typeof</span> <a href="foundry.abstract.DataModel.html" class="tsd-signature-type tsd-kind-class">DataModel</a><br/>        <span class="tsd-signature-symbol">|</span> <a href="foundry.abstract.DataModel.html" class="tsd-signature-type tsd-kind-class">DataModel</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DataModelConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DataModelConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><br/>        <span class="tsd-signature-symbol">|</span> <a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">_path</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.documents.types.TrackedAttributesDescription.html" class="tsd-signature-type tsd-kind-interface">TrackedAttributesDescription</a><a href="foundry.documents.TokenDocument.html#gettrackedattributes-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get an Array of attribute choices which could be tracked for Actors in the Combat Tracker</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">data</span>: <br/>    <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">string</span><br/>    <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">object</span><br/>    <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-keyword">typeof</span> <a href="foundry.abstract.DataModel.html" class="tsd-signature-type tsd-kind-class">DataModel</a><br/>    <span class="tsd-signature-symbol">|</span> <a href="foundry.abstract.DataModel.html" class="tsd-signature-type tsd-kind-class">DataModel</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DataModelConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DataModelConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><br/>    <span class="tsd-signature-symbol">|</span> <a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a></span><div class="tsd-comment tsd-typography"><p>The object to explore for attributes, or an
Actor type.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">_path</span>: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> = []</span></span><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../interfaces/foundry.documents.types.TrackedAttributesDescription.html" class="tsd-signature-type tsd-kind-interface">TrackedAttributesDescription</a></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="migratedata" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>migrate<wbr/>Data</span><a href="foundry.documents.TokenDocument.html#migratedata" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="migratedata-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">migrateData</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><a href="foundry.documents.TokenDocument.html#migratedata-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Migrate candidate source data for this DataModel which may require initial cleaning or transformations.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>The candidate source data from which the model will be constructed</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">object</span></h4><p>Migrated source data, which is the same object as the <code>source</code> argument</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#migratedata">migrateData</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="migratedatasafe" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>migrate<wbr/>Data<wbr/>Safe</span><a href="foundry.documents.TokenDocument.html#migratedatasafe" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="migratedatasafe-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">migrateDataSafe</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">source</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><a href="foundry.documents.TokenDocument.html#migratedatasafe-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Wrap data migration in a try/catch which attempts it safely</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">source</span>: <span class="tsd-signature-type">object</span></span><div class="tsd-comment tsd-typography"><p>The candidate source data from which the model will be constructed</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">object</span></h4><p>Migrated source data, which is the same object as the <code>source</code> argument</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#migratedatasafe">migrateDataSafe</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="shimdata" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>shim<wbr/>Data</span><a href="foundry.documents.TokenDocument.html#shimdata" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="shimdata-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">shimData</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><a href="foundry.documents.TokenDocument.html#shimdata-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Take data which conforms to the current data schema and add backwards-compatible accessors to it in order to
support older code which uses this data.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>Data which matches the current schema</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>Additional shimming options</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">object</span></h4><p>Data with added backwards-compatible properties, which is the same object as
the <code>data</code> argument</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#shimdata">shimData</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="updatedocuments" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>update<wbr/>Documents</span><a href="foundry.documents.TokenDocument.html#updatedocuments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="updatedocuments-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">updateDocuments</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">updates</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">operation</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseUpdateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseUpdateOperation</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;updates&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#updatedocuments-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Update multiple Document instances using provided differential data.
Data is provided as an array of objects where each individual object updates one existing Document.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">updates</span>: <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> = []</span></span><div class="tsd-comment tsd-typography"><p>An array of differential data objects, each used to update a single Document</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">operation</span>: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/foundry.abstract.types.DatabaseUpdateOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseUpdateOperation</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;updates&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Parameters of the database update
operation</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>An array of updated Document instances</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-update-a-single-document" class="tsd-anchor"></a>Example: Update a single Document<a href="foundry.documents.TokenDocument.html#example-update-a-single-document" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">updates</span><span class="hl-3"> = [{</span><span class="hl-2">_id:</span><span class="hl-3"> </span><span class="hl-6">&quot;12ekjf43kj2312ds&quot;</span><span class="hl-3">, </span><span class="hl-2">name:</span><span class="hl-3"> </span><span class="hl-6">&quot;Timothy&quot;</span><span class="hl-3">}];</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">updated</span><span class="hl-3"> = </span><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-2">Actor</span><span class="hl-3">.</span><span class="hl-2">implementation</span><span class="hl-3">.</span><span class="hl-4">updateDocuments</span><span class="hl-3">(</span><span class="hl-2">updates</span><span class="hl-3">);</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-update-multiple-documents" class="tsd-anchor"></a>Example: Update multiple Documents<a href="foundry.documents.TokenDocument.html#example-update-multiple-documents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">updates</span><span class="hl-3"> = [{</span><span class="hl-2">_id:</span><span class="hl-3"> </span><span class="hl-6">&quot;12ekjf43kj2312ds&quot;</span><span class="hl-3">, </span><span class="hl-2">name:</span><span class="hl-3"> </span><span class="hl-6">&quot;Timothy&quot;</span><span class="hl-3">}, {</span><span class="hl-2">_id:</span><span class="hl-3"> </span><span class="hl-6">&quot;kj549dk48k34jk34&quot;</span><span class="hl-3">, </span><span class="hl-2">name:</span><span class="hl-3"> </span><span class="hl-6">&quot;Thomas&quot;</span><span class="hl-3">}]};</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">updated</span><span class="hl-3"> = </span><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-2">Actor</span><span class="hl-3">.</span><span class="hl-2">implementation</span><span class="hl-3">.</span><span class="hl-4">updateDocuments</span><span class="hl-3">(</span><span class="hl-2">updates</span><span class="hl-3">);</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-update-multiple-embedded-documents-within-a-parent" class="tsd-anchor"></a>Example: Update multiple embedded Documents within a parent<a href="foundry.documents.TokenDocument.html#example-update-multiple-embedded-documents-within-a-parent" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">actor</span><span class="hl-3"> = </span><span class="hl-2">game</span><span class="hl-3">.</span><span class="hl-2">actors</span><span class="hl-3">.</span><span class="hl-4">getName</span><span class="hl-3">(</span><span class="hl-6">&quot;Timothy&quot;</span><span class="hl-3">);</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">updates</span><span class="hl-3"> = [{</span><span class="hl-2">_id:</span><span class="hl-3"> </span><span class="hl-2">sword</span><span class="hl-3">.</span><span class="hl-2">id</span><span class="hl-3">, </span><span class="hl-2">name:</span><span class="hl-3"> </span><span class="hl-6">&quot;Magic Sword&quot;</span><span class="hl-3">}, {</span><span class="hl-2">_id:</span><span class="hl-3"> </span><span class="hl-2">shield</span><span class="hl-3">.</span><span class="hl-2">id</span><span class="hl-3">, </span><span class="hl-2">name:</span><span class="hl-3"> </span><span class="hl-6">&quot;Magic Shield&quot;</span><span class="hl-3">}];</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">updated</span><span class="hl-3"> = </span><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-2">Item</span><span class="hl-3">.</span><span class="hl-2">implementation</span><span class="hl-3">.</span><span class="hl-4">updateDocuments</span><span class="hl-3">(</span><span class="hl-2">updates</span><span class="hl-3">, {</span><span class="hl-2">parent:</span><span class="hl-3"> </span><span class="hl-2">actor</span><span class="hl-3">});</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link"><a id="example-update-documents-within-a-compendium-pack" class="tsd-anchor"></a>Example: Update Documents within a Compendium pack<a href="foundry.documents.TokenDocument.html#example-update-documents-within-a-compendium-pack" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">actor</span><span class="hl-3"> = </span><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-2">pack</span><span class="hl-3">.</span><span class="hl-4">getDocument</span><span class="hl-3">(</span><span class="hl-2">documentId</span><span class="hl-3">);</span><br/><span class="hl-1">const</span><span class="hl-3"> </span><span class="hl-5">updated</span><span class="hl-3"> = </span><span class="hl-9">await</span><span class="hl-3"> </span><span class="hl-2">Actor</span><span class="hl-3">.</span><span class="hl-2">implementation</span><span class="hl-3">.</span><span class="hl-4">updateDocuments</span><span class="hl-3">([{</span><span class="hl-2">_id:</span><span class="hl-3"> </span><span class="hl-2">actor</span><span class="hl-3">.</span><span class="hl-2">id</span><span class="hl-3">, </span><span class="hl-2">name:</span><span class="hl-3"> </span><span class="hl-6">&quot;New Name&quot;</span><span class="hl-3">}],</span><br/><span class="hl-3">  {</span><span class="hl-2">pack:</span><span class="hl-3"> </span><span class="hl-6">&quot;mymodule.mypack&quot;</span><span class="hl-3">});</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#updatedocuments">updateDocuments</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="validatejoint" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>validate<wbr/>Joint</span><a href="foundry.documents.TokenDocument.html#validatejoint" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="validatejoint-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">validateJoint</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="foundry.documents.TokenDocument.html#validatejoint-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Evaluate joint validation rules which apply validation conditions across multiple fields of the model.
Field-specific validation rules should be defined as part of the DataSchema for the model.
This method allows for testing aggregate rules which impose requirements on the overall model.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">object</span></span><div class="tsd-comment tsd-typography"><p>Candidate data for the model</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-3" class="tsd-anchor"></a>Throws<a href="foundry.documents.TokenDocument.html#throws-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>An error if a validation failure is detected</p>
</div></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#validatejoint">validateJoint</a></p></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected"><a id="_getconfiguredtrackedattributes" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Protected</code> <code class="tsd-tag">Static</code><span>_get<wbr/>Configured<wbr/>Tracked<wbr/>Attributes</span><a href="foundry.documents.TokenDocument.html#_getconfiguredtrackedattributes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected"><li class="tsd-is-protected"><div class="tsd-signature tsd-anchor-link"><a id="_getconfiguredtrackedattributes-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_getConfiguredTrackedAttributes</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">type</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span> <span class="tsd-signature-symbol">|</span> <a href="../interfaces/foundry.documents.types.TrackedAttributesDescription.html" class="tsd-signature-type tsd-kind-interface">TrackedAttributesDescription</a><a href="foundry.documents.TokenDocument.html#_getconfiguredtrackedattributes-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Protected</code><div class="tsd-comment tsd-typography"><p>Retrieve any configured attributes for a given Actor type.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">type</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The Actor type.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span> <span class="tsd-signature-symbol">|</span> <a href="../interfaces/foundry.documents.types.TrackedAttributesDescription.html" class="tsd-signature-type tsd-kind-interface">TrackedAttributesDescription</a></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected"><a id="_gettrackedattributesfromobject" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Protected</code> <code class="tsd-tag">Static</code><span>_get<wbr/>Tracked<wbr/>Attributes<wbr/>From<wbr/>Object</span><a href="foundry.documents.TokenDocument.html#_gettrackedattributesfromobject" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected"><li class="tsd-is-protected"><div class="tsd-signature tsd-anchor-link"><a id="_gettrackedattributesfromobject-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_getTrackedAttributesFromObject</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">_path</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.documents.types.TrackedAttributesDescription.html" class="tsd-signature-type tsd-kind-interface">TrackedAttributesDescription</a><a href="foundry.documents.TokenDocument.html#_gettrackedattributesfromobject-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Protected</code><div class="tsd-comment tsd-typography"><p>Retrieve an Array of attribute choices from a plain object.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">object</span></span><div class="tsd-comment tsd-typography"><p>The object to explore for attributes.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">_path</span>: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> = []</span></span><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../interfaces/foundry.documents.types.TrackedAttributesDescription.html" class="tsd-signature-type tsd-kind-interface">TrackedAttributesDescription</a></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected"><a id="_gettrackedattributesfromschema" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Protected</code> <code class="tsd-tag">Static</code><span>_get<wbr/>Tracked<wbr/>Attributes<wbr/>From<wbr/>Schema</span><a href="foundry.documents.TokenDocument.html#_gettrackedattributesfromschema" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected"><li class="tsd-is-protected"><div class="tsd-signature tsd-anchor-link"><a id="_gettrackedattributesfromschema-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_getTrackedAttributesFromSchema</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">schema</span><span class="tsd-signature-symbol">:</span> <a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">_path</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.documents.types.TrackedAttributesDescription.html" class="tsd-signature-type tsd-kind-interface">TrackedAttributesDescription</a><a href="foundry.documents.TokenDocument.html#_gettrackedattributesfromschema-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Protected</code><div class="tsd-comment tsd-typography"><p>Retrieve an Array of attribute choices from a SchemaField.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">schema</span>: <a href="foundry.data.fields.SchemaField.html" class="tsd-signature-type tsd-kind-class">SchemaField</a></span><div class="tsd-comment tsd-typography"><p>The schema to explore for attributes.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">_path</span>: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> = []</span></span><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../interfaces/foundry.documents.types.TrackedAttributesDescription.html" class="tsd-signature-type tsd-kind-interface">TrackedAttributesDescription</a></h4><div class="tsd-comment tsd-typography"></div></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected tsd-is-inherited"><a id="_predeleteoperation" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Protected</code> <code class="tsd-tag">Static</code><span>_pre<wbr/>Delete<wbr/>Operation</span><a href="foundry.documents.TokenDocument.html#_predeleteoperation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected tsd-is-inherited"><li class="tsd-is-protected tsd-is-inherited"><div class="tsd-signature tsd-anchor-link"><a id="_predeleteoperation-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_preDeleteOperation</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">documents</span><span class="tsd-signature-symbol">:</span> <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">operation</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/foundry.abstract.types.DatabaseDeleteOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseDeleteOperation</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">user</span><span class="tsd-signature-symbol">:</span> <a href="foundry.documents.BaseUser.html" class="tsd-signature-type tsd-kind-class">BaseUser</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="foundry.documents.TokenDocument.html#_predeleteoperation-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Protected</code><div class="tsd-comment tsd-typography"><p>Pre-process a deletion operation, potentially altering its instructions or input data. Pre-operation events only
occur for the client which requested the operation.</p>
<p>This batch-wise workflow occurs after individual <a href="foundry.documents.TokenDocument.html#_predelete" class="tsd-kind-method">_preDelete</a> workflows and provides a final pre-flight check
before a database operation occurs.</p>
<p>Modifications to the requested deletions are performed by mutating the operation object.
<a href="foundry.documents.TokenDocument.html#updatesource" class="tsd-kind-method">updateSource</a>.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">documents</span>: <a href="foundry.abstract.Document.html" class="tsd-signature-type tsd-kind-class">Document</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">,</span> <a href="../types/foundry.abstract.types.DocumentConstructionContext.html" class="tsd-signature-type tsd-kind-type-alias">DocumentConstructionContext</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>Document instances to be deleted</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">operation</span>: <a href="../interfaces/foundry.abstract.types.DatabaseDeleteOperation.html" class="tsd-signature-type tsd-kind-interface">DatabaseDeleteOperation</a></span><div class="tsd-comment tsd-typography"><p>Parameters of the database update operation</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">user</span>: <a href="foundry.documents.BaseUser.html" class="tsd-signature-type tsd-kind-class">BaseUser</a></span><div class="tsd-comment tsd-typography"><p>The User requesting the deletion operation</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Return false to cancel the deletion operation entirely</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from <a href="foundry.documents.BaseToken.html">BaseToken</a>.<a href="foundry.documents.BaseToken.html#_predeleteoperation">_preDeleteOperation</a></p></aside></div></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-internal" name="internal"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Internal</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="foundry.documents.TokenDocument.html#hook-events"><span>Hook <wbr/>Events</span></a><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Constructors</summary><div><a href="foundry.documents.TokenDocument.html#constructor" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Properties</summary><div><a href="foundry.documents.TokenDocument.html#_movementcontinuation" class="tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_movement<wbr/>Continuation</span></a><a href="foundry.documents.TokenDocument.html#_source" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_source</span></a><a href="foundry.documents.TokenDocument.html#actors" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>actors</span></a><a href="foundry.documents.TokenDocument.html#parent" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>parent</span></a><a href="foundry.documents.TokenDocument.html#regions" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>regions</span></a><a href="foundry.documents.TokenDocument.html#_schema" class="tsd-is-inherited tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_schema</span></a><a href="foundry.documents.TokenDocument.html#default_icon" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>DEFAULT_<wbr/>ICON</span></a><a href="foundry.documents.TokenDocument.html#localization_prefixes" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>LOCALIZATION_<wbr/>PREFIXES</span></a><a href="foundry.documents.TokenDocument.html#metadata" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>metadata</span></a><a href="foundry.documents.TokenDocument.html#movement_fields" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>MOVEMENT_<wbr/>FIELDS</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Accessors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Accessors</summary><div><a href="foundry.documents.TokenDocument.html#actor" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>actor</span></a><a href="foundry.documents.TokenDocument.html#baseactor" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>base<wbr/>Actor</span></a><a href="foundry.documents.TokenDocument.html#combatant" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>combatant</span></a><a href="foundry.documents.TokenDocument.html#compendium" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>compendium</span></a><a href="foundry.documents.TokenDocument.html#hasdistinctsubjecttexture" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>has<wbr/>Distinct<wbr/>Subject<wbr/>Texture</span></a><a href="foundry.documents.TokenDocument.html#id" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>id</span></a><a href="foundry.documents.TokenDocument.html#incombat" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>in<wbr/>Combat</span></a><a href="foundry.documents.TokenDocument.html#incompendium" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>in<wbr/>Compendium</span></a><a href="foundry.documents.TokenDocument.html#invalid" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>invalid</span></a><a href="foundry.documents.TokenDocument.html#isembedded" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>is<wbr/>Embedded</span></a><a href="foundry.documents.TokenDocument.html#islinked" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>is<wbr/>Linked</span></a><a href="foundry.documents.TokenDocument.html#isowner" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>is<wbr/>Owner</span></a><a href="foundry.documents.TokenDocument.html#issecret" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>is<wbr/>Secret</span></a><a href="foundry.documents.TokenDocument.html#movement" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>movement</span></a><a href="foundry.documents.TokenDocument.html#movementhistory" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>movement<wbr/>History</span></a><a href="foundry.documents.TokenDocument.html#schema" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>schema</span></a><a href="foundry.documents.TokenDocument.html#uuid" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>uuid</span></a><a href="foundry.documents.TokenDocument.html#validationfailures" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>validation<wbr/>Failures</span></a><a href="foundry.documents.TokenDocument.html#basedocument" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>base<wbr/>Document</span></a><a href="foundry.documents.TokenDocument.html#collectionname" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>collection<wbr/>Name</span></a><a href="foundry.documents.TokenDocument.html#database" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>database</span></a><a href="foundry.documents.TokenDocument.html#documentname" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>document<wbr/>Name</span></a><a href="foundry.documents.TokenDocument.html#hastypedata" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>has<wbr/>Type<wbr/>Data</span></a><a href="foundry.documents.TokenDocument.html#hierarchy" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>hierarchy</span></a><a href="foundry.documents.TokenDocument.html#implementation" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>implementation</span></a><a href="foundry.documents.TokenDocument.html#schema-2" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>schema</span></a><a href="foundry.documents.TokenDocument.html#types" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>TYPES</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Methods</summary><div><a href="foundry.documents.TokenDocument.html#_configure" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_configure</span></a><a href="foundry.documents.TokenDocument.html#_getparentcollection" class="tsd-is-inherited tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_get<wbr/>Parent<wbr/>Collection</span></a><a href="foundry.documents.TokenDocument.html#_gridoffsettoposition" class="tsd-is-inherited tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_grid<wbr/>Offset<wbr/>To<wbr/>Position</span></a><a href="foundry.documents.TokenDocument.html#_identifyregions" class="tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_identify<wbr/>Regions</span></a><a href="foundry.documents.TokenDocument.html#_initialize" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_initialize</span></a><a href="foundry.documents.TokenDocument.html#_initializesource" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_initialize<wbr/>Source</span></a><a href="foundry.documents.TokenDocument.html#_oncreate" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Create</span></a><a href="foundry.documents.TokenDocument.html#_oncreatedescendantdocuments" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Create<wbr/>Descendant<wbr/>Documents</span></a><a href="foundry.documents.TokenDocument.html#_ondelete" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Delete</span></a><a href="foundry.documents.TokenDocument.html#_ondeletedescendantdocuments" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Delete<wbr/>Descendant<wbr/>Documents</span></a><a href="foundry.documents.TokenDocument.html#_onupdate" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Update</span></a><a href="foundry.documents.TokenDocument.html#_onupdatebaseactor" class="tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Update<wbr/>Base<wbr/>Actor</span></a><a href="foundry.documents.TokenDocument.html#_onupdatedescendantdocuments" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Update<wbr/>Descendant<wbr/>Documents</span></a><a href="foundry.documents.TokenDocument.html#_positiontogridoffset" class="tsd-is-inherited tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_position<wbr/>To<wbr/>Grid<wbr/>Offset</span></a><a href="foundry.documents.TokenDocument.html#_precreatedescendantdocuments" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_pre<wbr/>Create<wbr/>Descendant<wbr/>Documents</span></a><a href="foundry.documents.TokenDocument.html#_predeletedescendantdocuments" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_pre<wbr/>Delete<wbr/>Descendant<wbr/>Documents</span></a><a href="foundry.documents.TokenDocument.html#_preparedeltaupdate" class="tsd-is-inherited tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_prepare<wbr/>Delta<wbr/>Update</span></a><a href="foundry.documents.TokenDocument.html#_preupdate" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_pre<wbr/>Update</span></a><a href="foundry.documents.TokenDocument.html#_preupdatedescendantdocuments" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_pre<wbr/>Update<wbr/>Descendant<wbr/>Documents</span></a><a href="foundry.documents.TokenDocument.html#_stopmovementondisconnect" class="tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_stop<wbr/>Movement<wbr/>On<wbr/>Disconnect</span></a><a href="foundry.documents.TokenDocument.html#canusermodify" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>can<wbr/>User<wbr/>Modify</span></a><a href="foundry.documents.TokenDocument.html#clearmovementhistory" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>clear<wbr/>Movement<wbr/>History</span></a><a href="foundry.documents.TokenDocument.html#clone" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>clone</span></a><a href="foundry.documents.TokenDocument.html#createembeddeddocuments" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Embedded<wbr/>Documents</span></a><a href="foundry.documents.TokenDocument.html#delete" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>delete</span></a><a href="foundry.documents.TokenDocument.html#deleteembeddeddocuments" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>delete<wbr/>Embedded<wbr/>Documents</span></a><a href="foundry.documents.TokenDocument.html#getbarattribute" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Bar<wbr/>Attribute</span></a><a href="foundry.documents.TokenDocument.html#getcenterpoint" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Center<wbr/>Point</span></a><a href="foundry.documents.TokenDocument.html#getcompletemovementpath" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Complete<wbr/>Movement<wbr/>Path</span></a><a href="foundry.documents.TokenDocument.html#getembeddedcollection" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Embedded<wbr/>Collection</span></a><a href="foundry.documents.TokenDocument.html#getembeddeddocument" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Embedded<wbr/>Document</span></a><a href="foundry.documents.TokenDocument.html#getflag" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Flag</span></a><a href="foundry.documents.TokenDocument.html#getgridspacepolygon" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Grid<wbr/>Space<wbr/>Polygon</span></a><a href="foundry.documents.TokenDocument.html#getoccupiedgridspaceoffsets" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Occupied<wbr/>Grid<wbr/>Space<wbr/>Offsets</span></a><a href="foundry.documents.TokenDocument.html#getsize" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Size</span></a><a href="foundry.documents.TokenDocument.html#getsnappedposition" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Snapped<wbr/>Position</span></a><a href="foundry.documents.TokenDocument.html#getuserlevel" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>User<wbr/>Level</span></a><a href="foundry.documents.TokenDocument.html#hasstatuseffect" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>has<wbr/>Status<wbr/>Effect</span></a><a href="foundry.documents.TokenDocument.html#measuremovementpath" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>measure<wbr/>Movement<wbr/>Path</span></a><a href="foundry.documents.TokenDocument.html#migratesystemdata" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>migrate<wbr/>System<wbr/>Data</span></a><a href="foundry.documents.TokenDocument.html#move" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>move</span></a><a href="foundry.documents.TokenDocument.html#pausemovement" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>pause<wbr/>Movement</span></a><a href="foundry.documents.TokenDocument.html#preparebasedata" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>prepare<wbr/>Base<wbr/>Data</span></a><a href="foundry.documents.TokenDocument.html#preparederiveddata" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>prepare<wbr/>Derived<wbr/>Data</span></a><a href="foundry.documents.TokenDocument.html#prepareembeddeddocuments" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>prepare<wbr/>Embedded<wbr/>Documents</span></a><a href="foundry.documents.TokenDocument.html#reset" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>reset</span></a><a href="foundry.documents.TokenDocument.html#resize" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>resize</span></a><a href="foundry.documents.TokenDocument.html#resumemovement" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>resume<wbr/>Movement</span></a><a href="foundry.documents.TokenDocument.html#revertrecordedmovement" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>revert<wbr/>Recorded<wbr/>Movement</span></a><a href="foundry.documents.TokenDocument.html#segmentizeregionmovementpath" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>segmentize<wbr/>Region<wbr/>Movement<wbr/>Path</span></a><a href="foundry.documents.TokenDocument.html#setflag" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>set<wbr/>Flag</span></a><a href="foundry.documents.TokenDocument.html#stopmovement" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>stop<wbr/>Movement</span></a><a href="foundry.documents.TokenDocument.html#testinsideregion" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>test<wbr/>Inside<wbr/>Region</span></a><a href="foundry.documents.TokenDocument.html#testuserpermission" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>test<wbr/>User<wbr/>Permission</span></a><a href="foundry.documents.TokenDocument.html#togglecombatant" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>toggle<wbr/>Combatant</span></a><a href="foundry.documents.TokenDocument.html#tojson" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>toJSON</span></a><a href="foundry.documents.TokenDocument.html#toobject" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>to<wbr/>Object</span></a><a href="foundry.documents.TokenDocument.html#traverseembeddeddocuments" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>traverse<wbr/>Embedded<wbr/>Documents</span></a><a href="foundry.documents.TokenDocument.html#unsetflag" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>unset<wbr/>Flag</span></a><a href="foundry.documents.TokenDocument.html#update" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>update</span></a><a href="foundry.documents.TokenDocument.html#updateembeddeddocuments" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>update<wbr/>Embedded<wbr/>Documents</span></a><a href="foundry.documents.TokenDocument.html#updatesource" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>update<wbr/>Source</span></a><a href="foundry.documents.TokenDocument.html#updatevisionmode" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>update<wbr/>Vision<wbr/>Mode</span></a><a href="foundry.documents.TokenDocument.html#validate" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>validate</span></a><a href="foundry.documents.TokenDocument.html#_couldregionschange" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_could<wbr/>Regions<wbr/>Change</span></a><a href="foundry.documents.TokenDocument.html#_infermovementaction" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_infer<wbr/>Movement<wbr/>Action</span></a><a href="foundry.documents.TokenDocument.html#_inferringsubjecttexture" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_infer<wbr/>Ring<wbr/>Subject<wbr/>Texture</span></a><a href="foundry.documents.TokenDocument.html#_onmovementpaused" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Movement<wbr/>Paused</span></a><a href="foundry.documents.TokenDocument.html#_onmovementrecorded" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Movement<wbr/>Recorded</span></a><a href="foundry.documents.TokenDocument.html#_onmovementstopped" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Movement<wbr/>Stopped</span></a><a href="foundry.documents.TokenDocument.html#_onrelatedupdate" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Related<wbr/>Update</span></a><a href="foundry.documents.TokenDocument.html#_onupdatemovement" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Update<wbr/>Movement</span></a><a href="foundry.documents.TokenDocument.html#_precreate" class="tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_pre<wbr/>Create</span></a><a href="foundry.documents.TokenDocument.html#_predelete" class="tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_pre<wbr/>Delete</span></a><a href="foundry.documents.TokenDocument.html#_preparedetectionmodes" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_prepare<wbr/>Detection<wbr/>Modes</span></a><a href="foundry.documents.TokenDocument.html#_preupdatemovement" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_pre<wbr/>Update<wbr/>Movement</span></a><a href="foundry.documents.TokenDocument.html#_shouldrecordmovementhistory" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_should<wbr/>Record<wbr/>Movement<wbr/>History</span></a><a href="foundry.documents.TokenDocument.html#_adddatafieldmigration" class="tsd-is-inherited tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_add<wbr/>Data<wbr/>Field<wbr/>Migration</span></a><a href="foundry.documents.TokenDocument.html#_adddatafieldshim" class="tsd-is-inherited tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_add<wbr/>Data<wbr/>Field<wbr/>Shim</span></a><a href="foundry.documents.TokenDocument.html#_adddatafieldshims" class="tsd-is-inherited tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_add<wbr/>Data<wbr/>Field<wbr/>Shims</span></a><a href="foundry.documents.TokenDocument.html#_addteleportandforcedshims" class="tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_add<wbr/>Teleport<wbr/>And<wbr/>Forced<wbr/>Shims</span></a><a href="foundry.documents.TokenDocument.html#_clearfieldsrecursively" class="tsd-is-inherited tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_clear<wbr/>Fields<wbr/>Recursively</span></a><a href="foundry.documents.TokenDocument.html#_gethexagonaloffsets" class="tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_get<wbr/>Hexagonal<wbr/>Offsets</span></a><a href="foundry.documents.TokenDocument.html#_initializationorder" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_initialization<wbr/>Order</span></a><a href="foundry.documents.TokenDocument.html#_ismovementupdate" class="tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_is<wbr/>Movement<wbr/>Update</span></a><a href="foundry.documents.TokenDocument.html#_logdatafieldmigration" class="tsd-is-inherited tsd-is-internal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_log<wbr/>Data<wbr/>Field<wbr/>Migration</span></a><a href="foundry.documents.TokenDocument.html#_oncreateoperation" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Create<wbr/>Operation</span></a><a href="foundry.documents.TokenDocument.html#_ondeleteoperation" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Delete<wbr/>Operation</span></a><a href="foundry.documents.TokenDocument.html#_onupdateoperation" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_on<wbr/>Update<wbr/>Operation</span></a><a href="foundry.documents.TokenDocument.html#_precreateoperation" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_pre<wbr/>Create<wbr/>Operation</span></a><a href="foundry.documents.TokenDocument.html#_preupdateoperation" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_pre<wbr/>Update<wbr/>Operation</span></a><a href="foundry.documents.TokenDocument.html#arepositionsequal" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>are<wbr/>Positions<wbr/>Equal</span></a><a href="foundry.documents.TokenDocument.html#canusercreate" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>can<wbr/>User<wbr/>Create</span></a><a href="foundry.documents.TokenDocument.html#cleandata" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>clean<wbr/>Data</span></a><a href="foundry.documents.TokenDocument.html#create" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create</span></a><a href="foundry.documents.TokenDocument.html#createcombatants" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Combatants</span></a><a href="foundry.documents.TokenDocument.html#createdocuments" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Documents</span></a><a href="foundry.documents.TokenDocument.html#defineschema" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>define<wbr/>Schema</span></a><a href="foundry.documents.TokenDocument.html#deletecombatants" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>delete<wbr/>Combatants</span></a><a href="foundry.documents.TokenDocument.html#deletedocuments" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>delete<wbr/>Documents</span></a><a href="foundry.documents.TokenDocument.html#fromjson" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>fromJSON</span></a><a href="foundry.documents.TokenDocument.html#fromsource" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>from<wbr/>Source</span></a><a href="foundry.documents.TokenDocument.html#get" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get</span></a><a href="foundry.documents.TokenDocument.html#getcollectionname" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Collection<wbr/>Name</span></a><a href="foundry.documents.TokenDocument.html#gettrackedattributechoices" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Tracked<wbr/>Attribute<wbr/>Choices</span></a><a href="foundry.documents.TokenDocument.html#gettrackedattributes" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Tracked<wbr/>Attributes</span></a><a href="foundry.documents.TokenDocument.html#migratedata" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>migrate<wbr/>Data</span></a><a href="foundry.documents.TokenDocument.html#migratedatasafe" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>migrate<wbr/>Data<wbr/>Safe</span></a><a href="foundry.documents.TokenDocument.html#shimdata" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>shim<wbr/>Data</span></a><a href="foundry.documents.TokenDocument.html#updatedocuments" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>update<wbr/>Documents</span></a><a href="foundry.documents.TokenDocument.html#validatejoint" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>validate<wbr/>Joint</span></a><a href="foundry.documents.TokenDocument.html#_getconfiguredtrackedattributes" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_get<wbr/>Configured<wbr/>Tracked<wbr/>Attributes</span></a><a href="foundry.documents.TokenDocument.html#_gettrackedattributesfromobject" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_get<wbr/>Tracked<wbr/>Attributes<wbr/>From<wbr/>Object</span></a><a href="foundry.documents.TokenDocument.html#_gettrackedattributesfromschema" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_get<wbr/>Tracked<wbr/>Attributes<wbr/>From<wbr/>Schema</span></a><a href="foundry.documents.TokenDocument.html#_predeleteoperation" class="tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_pre<wbr/>Delete<wbr/>Operation</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">Foundry Virtual Tabletop - API Documentation - Version 13</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p>Public API documentation for <a href="https://foundryvtt.com/" target="_blank">Foundry Virtual Tabletop</a> version 13.350 Stable. © 2025 Foundry Gaming LLC. All Rights Reserved.</p></footer><div class="overlay"></div></body></html>
